var yn=Object.create;var Oe=Object.defineProperty;var Tn=Object.getOwnPropertyDescriptor;var _n=Object.getOwnPropertyNames;var vn=Object.getPrototypeOf,wn=Object.prototype.hasOwnProperty;var q=(t,e)=>()=>(t&&(e=t(t=0)),e);var x=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),bn=(t,e)=>{for(var r in e)Oe(t,r,{get:e[r],enumerable:!0})},Dt=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of _n(e))!wn.call(t,a)&&a!==r&&Oe(t,a,{get:()=>e[a],enumerable:!(i=Tn(e,a))||i.enumerable});return t};var Ee=(t,e,r)=>(r=t!=null?yn(vn(t)):{},Dt(e||!t||!t.__esModule?Oe(r,"default",{value:t,enumerable:!0}):r,t)),An=t=>Dt(Oe({},"__esModule",{value:!0}),t);var Ne=x(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.toCommandProperties=oe.toCommandValue=void 0;function On(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}oe.toCommandValue=On;function Nn(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}oe.toCommandProperties=Nn});var Ut=x(j=>{"use strict";var xn=j&&j.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Sn=j&&j.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Fn=j&&j.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&xn(e,t,r);return Sn(e,t),e};Object.defineProperty(j,"__esModule",{value:!0});j.issue=j.issueCommand=void 0;var In=Fn(require("os")),Pt=Ne();function Rt(t,e,r){let i=new We(t,e,r);process.stdout.write(i.toString()+In.EOL)}j.issueCommand=Rt;function Dn(t,e=""){Rt(t,{},e)}j.issue=Dn;var Ct="::",We=class{constructor(e,r,i){e||(e="missing.command"),this.command=e,this.properties=r,this.message=i}toString(){let e=Ct+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(let i in this.properties)if(this.properties.hasOwnProperty(i)){let a=this.properties[i];a&&(r?r=!1:e+=",",e+=`${i}=${Pn(a)}`)}}return e+=`${Ct}${Cn(this.message)}`,e}};function Cn(t){return Pt.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Pn(t){return Pt.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function ye(){return xe>Se.length-16&&(qt.default.randomFillSync(Se),xe=0),Se.slice(xe,xe+=16)}var qt,Se,xe,Qe=q(()=>{qt=Ee(require("crypto")),Se=new Uint8Array(256),xe=Se.length});var Bt,Mt=q(()=>{Bt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Rn(t){return typeof t=="string"&&Bt.test(t)}var Z,Te=q(()=>{Mt();Z=Rn});function Un(t,e=0){let r=(C[t[e+0]]+C[t[e+1]]+C[t[e+2]]+C[t[e+3]]+"-"+C[t[e+4]]+C[t[e+5]]+"-"+C[t[e+6]]+C[t[e+7]]+"-"+C[t[e+8]]+C[t[e+9]]+"-"+C[t[e+10]]+C[t[e+11]]+C[t[e+12]]+C[t[e+13]]+C[t[e+14]]+C[t[e+15]]).toLowerCase();if(!Z(r))throw TypeError("Stringified UUID is invalid");return r}var C,ee,_e=q(()=>{Te();C=[];for(let t=0;t<256;++t)C.push((t+256).toString(16).substr(1));ee=Un});function qn(t,e,r){let i=e&&r||0,a=e||new Array(16);t=t||{};let u=t.node||Kt,c=t.clockseq!==void 0?t.clockseq:Je;if(u==null||c==null){let _=t.random||(t.rng||ye)();u==null&&(u=Kt=[_[0]|1,_[1],_[2],_[3],_[4],_[5]]),c==null&&(c=Je=(_[6]<<8|_[7])&16383)}let h=t.msecs!==void 0?t.msecs:Date.now(),p=t.nsecs!==void 0?t.nsecs:Ze+1,m=h-ze+(p-Ze)/1e4;if(m<0&&t.clockseq===void 0&&(c=c+1&16383),(m<0||h>ze)&&t.nsecs===void 0&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ze=h,Ze=p,Je=c,h+=122192928e5;let g=((h&268435455)*1e4+p)%4294967296;a[i++]=g>>>24&255,a[i++]=g>>>16&255,a[i++]=g>>>8&255,a[i++]=g&255;let y=h/4294967296*1e4&268435455;a[i++]=y>>>8&255,a[i++]=y&255,a[i++]=y>>>24&15|16,a[i++]=y>>>16&255,a[i++]=c>>>8|128,a[i++]=c&255;for(let _=0;_<6;++_)a[i+_]=u[_];return e||ee(a)}var Kt,Je,ze,Ze,Lt,kt=q(()=>{Qe();_e();ze=0,Ze=0;Lt=qn});function Bn(t){if(!Z(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var Fe,et=q(()=>{Te();Fe=Bn});function Mn(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function Ie(t,e,r){function i(a,u,c,h){if(typeof a=="string"&&(a=Mn(a)),typeof u=="string"&&(u=Fe(u)),u.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let p=new Uint8Array(16+a.length);if(p.set(u),p.set(a,u.length),p=r(p),p[6]=p[6]&15|e,p[8]=p[8]&63|128,c){h=h||0;for(let m=0;m<16;++m)c[h+m]=p[m];return c}return ee(p)}try{i.name=t}catch{}return i.DNS=Kn,i.URL=Ln,i}var Kn,Ln,tt=q(()=>{_e();et();Kn="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Ln="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function kn(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),jt.default.createHash("md5").update(t).digest()}var jt,Vt,Gt=q(()=>{jt=Ee(require("crypto"));Vt=kn});var jn,$t,Yt=q(()=>{tt();Gt();jn=Ie("v3",48,Vt),$t=jn});function Vn(t,e,r){t=t||{};let i=t.random||(t.rng||ye)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){r=r||0;for(let a=0;a<16;++a)e[r+a]=i[a];return e}return ee(i)}var Xt,Ht=q(()=>{Qe();_e();Xt=Vn});function Gn(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),Wt.default.createHash("sha1").update(t).digest()}var Wt,Qt,Jt=q(()=>{Wt=Ee(require("crypto"));Qt=Gn});var $n,zt,Zt=q(()=>{tt();Jt();$n=Ie("v5",80,Qt),zt=$n});var er,tr=q(()=>{er="00000000-0000-0000-0000-000000000000"});function Yn(t){if(!Z(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var rr,nr=q(()=>{Te();rr=Yn});var ir={};bn(ir,{NIL:()=>er,parse:()=>Fe,stringify:()=>ee,v1:()=>Lt,v3:()=>$t,v4:()=>Xt,v5:()=>zt,validate:()=>Z,version:()=>rr});var sr=q(()=>{kt();Yt();Ht();Zt();tr();nr();Te();_e();et()});var cr=x(V=>{"use strict";var Xn=V&&V.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Hn=V&&V.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),or=V&&V.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Xn(e,t,r);return Hn(e,t),e};Object.defineProperty(V,"__esModule",{value:!0});V.prepareKeyValueMessage=V.issueFileCommand=void 0;var ar=or(require("fs")),rt=or(require("os")),Wn=(sr(),An(ir)),ur=Ne();function Qn(t,e){let r=process.env[`GITHUB_${t}`];if(!r)throw new Error(`Unable to find environment variable for file command ${t}`);if(!ar.existsSync(r))throw new Error(`Missing file at path: ${r}`);ar.appendFileSync(r,`${ur.toCommandValue(e)}${rt.EOL}`,{encoding:"utf8"})}V.issueFileCommand=Qn;function Jn(t,e){let r=`ghadelimiter_${Wn.v4()}`,i=ur.toCommandValue(e);if(t.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(i.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${t}<<${r}${rt.EOL}${i}${rt.EOL}${r}`}V.prepareKeyValueMessage=Jn});var fr=x(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.checkBypass=ue.getProxyUrl=void 0;function zn(t){let e=t.protocol==="https:";if(lr(t))return;let r=e?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY;if(r)return new URL(r)}ue.getProxyUrl=zn;function lr(t){if(!t.hostname)return!1;let e=process.env.no_proxy||process.env.NO_PROXY||"";if(!e)return!1;let r;t.port?r=Number(t.port):t.protocol==="http:"?r=80:t.protocol==="https:"&&(r=443);let i=[t.hostname.toUpperCase()];typeof r=="number"&&i.push(`${i[0]}:${r}`);for(let a of e.split(",").map(u=>u.trim().toUpperCase()).filter(u=>u))if(i.some(u=>u===a))return!0;return!1}ue.checkBypass=lr});var pr=x(ce=>{"use strict";var oa=require("net"),Zn=require("tls"),nt=require("http"),dr=require("https"),ei=require("events"),ua=require("assert"),ti=require("util");ce.httpOverHttp=ri;ce.httpsOverHttp=ni;ce.httpOverHttps=ii;ce.httpsOverHttps=si;function ri(t){var e=new z(t);return e.request=nt.request,e}function ni(t){var e=new z(t);return e.request=nt.request,e.createSocket=hr,e.defaultPort=443,e}function ii(t){var e=new z(t);return e.request=dr.request,e}function si(t){var e=new z(t);return e.request=dr.request,e.createSocket=hr,e.defaultPort=443,e}function z(t){var e=this;e.options=t||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||nt.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",function(i,a,u,c){for(var h=mr(a,u,c),p=0,m=e.requests.length;p<m;++p){var g=e.requests[p];if(g.host===h.host&&g.port===h.port){e.requests.splice(p,1),g.request.onSocket(i);return}}i.destroy(),e.removeSocket(i)})}ti.inherits(z,ei.EventEmitter);z.prototype.addRequest=function(e,r,i,a){var u=this,c=it({request:e},u.options,mr(r,i,a));if(u.sockets.length>=this.maxSockets){u.requests.push(c);return}u.createSocket(c,function(h){h.on("free",p),h.on("close",m),h.on("agentRemove",m),e.onSocket(h);function p(){u.emit("free",h,c)}function m(g){u.removeSocket(h),h.removeListener("free",p),h.removeListener("close",m),h.removeListener("agentRemove",m)}})};z.prototype.createSocket=function(e,r){var i=this,a={};i.sockets.push(a);var u=it({},i.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(u.localAddress=e.localAddress),u.proxyAuth&&(u.headers=u.headers||{},u.headers["Proxy-Authorization"]="Basic "+new Buffer(u.proxyAuth).toString("base64")),te("making CONNECT request");var c=i.request(u);c.useChunkedEncodingByDefault=!1,c.once("response",h),c.once("upgrade",p),c.once("connect",m),c.once("error",g),c.end();function h(y){y.upgrade=!0}function p(y,_,X){process.nextTick(function(){m(y,_,X)})}function m(y,_,X){if(c.removeAllListeners(),_.removeAllListeners(),y.statusCode!==200){te("tunneling socket could not be established, statusCode=%d",y.statusCode),_.destroy();var ne=new Error("tunneling socket could not be established, statusCode="+y.statusCode);ne.code="ECONNRESET",e.request.emit("error",ne),i.removeSocket(a);return}if(X.length>0){te("got illegal response body from proxy"),_.destroy();var ne=new Error("got illegal response body from proxy");ne.code="ECONNRESET",e.request.emit("error",ne),i.removeSocket(a);return}return te("tunneling connection has established"),i.sockets[i.sockets.indexOf(a)]=_,r(_)}function g(y){c.removeAllListeners(),te(`tunneling socket could not be established, cause=%s
`,y.message,y.stack);var _=new Error("tunneling socket could not be established, cause="+y.message);_.code="ECONNRESET",e.request.emit("error",_),i.removeSocket(a)}};z.prototype.removeSocket=function(e){var r=this.sockets.indexOf(e);if(r!==-1){this.sockets.splice(r,1);var i=this.requests.shift();i&&this.createSocket(i,function(a){i.request.onSocket(a)})}};function hr(t,e){var r=this;z.prototype.createSocket.call(r,t,function(i){var a=t.request.getHeader("host"),u=it({},r.options,{socket:i,servername:a?a.replace(/:.*$/,""):t.host}),c=Zn.connect(0,u);r.sockets[r.sockets.indexOf(i)]=c,e(c)})}function mr(t,e,r){return typeof t=="string"?{host:t,port:e,localAddress:r}:t}function it(t){for(var e=1,r=arguments.length;e<r;++e){var i=arguments[e];if(typeof i=="object")for(var a=Object.keys(i),u=0,c=a.length;u<c;++u){var h=a[u];i[h]!==void 0&&(t[h]=i[h])}}return t}var te;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?te=function(){var t=Array.prototype.slice.call(arguments);typeof t[0]=="string"?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:te=function(){};ce.debug=te});var Er=x((la,gr)=>{gr.exports=pr()});var Tr=x(A=>{"use strict";var ai=A&&A.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),oi=A&&A.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qe=A&&A.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&ai(e,t,r);return oi(e,t),e},I=A&&A.__awaiter||function(t,e,r,i){function a(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function h(g){try{m(i.next(g))}catch(y){c(y)}}function p(g){try{m(i.throw(g))}catch(y){c(y)}}function m(g){g.done?u(g.value):a(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};Object.defineProperty(A,"__esModule",{value:!0});A.HttpClient=A.isHttps=A.HttpClientResponse=A.HttpClientError=A.getProxyUrl=A.MediaTypes=A.Headers=A.HttpCodes=void 0;var De=qe(require("http")),st=qe(require("https")),yr=qe(fr()),Ce=qe(Er()),Y;(function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"})(Y=A.HttpCodes||(A.HttpCodes={}));var B;(function(t){t.Accept="accept",t.ContentType="content-type"})(B=A.Headers||(A.Headers={}));var re;(function(t){t.ApplicationJson="application/json"})(re=A.MediaTypes||(A.MediaTypes={}));function ui(t){let e=yr.getProxyUrl(new URL(t));return e?e.href:""}A.getProxyUrl=ui;var ci=[Y.MovedPermanently,Y.ResourceMoved,Y.SeeOther,Y.TemporaryRedirect,Y.PermanentRedirect],li=[Y.BadGateway,Y.ServiceUnavailable,Y.GatewayTimeout],fi=["OPTIONS","GET","DELETE","HEAD"],di=10,hi=5,Re=class t extends Error{constructor(e,r){super(e),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,t.prototype)}};A.HttpClientError=Re;var Ue=class{constructor(e){this.message=e}readBody(){return I(this,void 0,void 0,function*(){return new Promise(e=>I(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",i=>{r=Buffer.concat([r,i])}),this.message.on("end",()=>{e(r.toString())})}))})}};A.HttpClientResponse=Ue;function mi(t){return new URL(t).protocol==="https:"}A.isHttps=mi;var at=class{constructor(e,r,i){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=r||[],this.requestOptions=i,i&&(i.ignoreSslError!=null&&(this._ignoreSslError=i.ignoreSslError),this._socketTimeout=i.socketTimeout,i.allowRedirects!=null&&(this._allowRedirects=i.allowRedirects),i.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=i.allowRedirectDowngrade),i.maxRedirects!=null&&(this._maxRedirects=Math.max(i.maxRedirects,0)),i.keepAlive!=null&&(this._keepAlive=i.keepAlive),i.allowRetries!=null&&(this._allowRetries=i.allowRetries),i.maxRetries!=null&&(this._maxRetries=i.maxRetries))}options(e,r){return I(this,void 0,void 0,function*(){return this.request("OPTIONS",e,null,r||{})})}get(e,r){return I(this,void 0,void 0,function*(){return this.request("GET",e,null,r||{})})}del(e,r){return I(this,void 0,void 0,function*(){return this.request("DELETE",e,null,r||{})})}post(e,r,i){return I(this,void 0,void 0,function*(){return this.request("POST",e,r,i||{})})}patch(e,r,i){return I(this,void 0,void 0,function*(){return this.request("PATCH",e,r,i||{})})}put(e,r,i){return I(this,void 0,void 0,function*(){return this.request("PUT",e,r,i||{})})}head(e,r){return I(this,void 0,void 0,function*(){return this.request("HEAD",e,null,r||{})})}sendStream(e,r,i,a){return I(this,void 0,void 0,function*(){return this.request(e,r,i,a)})}getJson(e,r={}){return I(this,void 0,void 0,function*(){r[B.Accept]=this._getExistingOrDefaultHeader(r,B.Accept,re.ApplicationJson);let i=yield this.get(e,r);return this._processResponse(i,this.requestOptions)})}postJson(e,r,i={}){return I(this,void 0,void 0,function*(){let a=JSON.stringify(r,null,2);i[B.Accept]=this._getExistingOrDefaultHeader(i,B.Accept,re.ApplicationJson),i[B.ContentType]=this._getExistingOrDefaultHeader(i,B.ContentType,re.ApplicationJson);let u=yield this.post(e,a,i);return this._processResponse(u,this.requestOptions)})}putJson(e,r,i={}){return I(this,void 0,void 0,function*(){let a=JSON.stringify(r,null,2);i[B.Accept]=this._getExistingOrDefaultHeader(i,B.Accept,re.ApplicationJson),i[B.ContentType]=this._getExistingOrDefaultHeader(i,B.ContentType,re.ApplicationJson);let u=yield this.put(e,a,i);return this._processResponse(u,this.requestOptions)})}patchJson(e,r,i={}){return I(this,void 0,void 0,function*(){let a=JSON.stringify(r,null,2);i[B.Accept]=this._getExistingOrDefaultHeader(i,B.Accept,re.ApplicationJson),i[B.ContentType]=this._getExistingOrDefaultHeader(i,B.ContentType,re.ApplicationJson);let u=yield this.patch(e,a,i);return this._processResponse(u,this.requestOptions)})}request(e,r,i,a){return I(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let u=new URL(r),c=this._prepareRequest(e,u,a),h=this._allowRetries&&fi.includes(e)?this._maxRetries+1:1,p=0,m;do{if(m=yield this.requestRaw(c,i),m&&m.message&&m.message.statusCode===Y.Unauthorized){let y;for(let _ of this.handlers)if(_.canHandleAuthentication(m)){y=_;break}return y?y.handleAuthentication(this,c,i):m}let g=this._maxRedirects;for(;m.message.statusCode&&ci.includes(m.message.statusCode)&&this._allowRedirects&&g>0;){let y=m.message.headers.location;if(!y)break;let _=new URL(y);if(u.protocol==="https:"&&u.protocol!==_.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield m.readBody(),_.hostname!==u.hostname)for(let X in a)X.toLowerCase()==="authorization"&&delete a[X];c=this._prepareRequest(e,_,a),m=yield this.requestRaw(c,i),g--}if(!m.message.statusCode||!li.includes(m.message.statusCode))return m;p+=1,p<h&&(yield m.readBody(),yield this._performExponentialBackoff(p))}while(p<h);return m})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,r){return I(this,void 0,void 0,function*(){return new Promise((i,a)=>{function u(c,h){c?a(c):h?i(h):a(new Error("Unknown error"))}this.requestRawWithCallback(e,r,u)})})}requestRawWithCallback(e,r,i){typeof r=="string"&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let a=!1;function u(p,m){a||(a=!0,i(p,m))}let c=e.httpModule.request(e.options,p=>{let m=new Ue(p);u(void 0,m)}),h;c.on("socket",p=>{h=p}),c.setTimeout(this._socketTimeout||3*6e4,()=>{h&&h.end(),u(new Error(`Request timeout: ${e.options.path}`))}),c.on("error",function(p){u(p)}),r&&typeof r=="string"&&c.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){c.end()}),r.pipe(c)):c.end()}getAgent(e){let r=new URL(e);return this._getAgent(r)}_prepareRequest(e,r,i){let a={};a.parsedUrl=r;let u=a.parsedUrl.protocol==="https:";a.httpModule=u?st:De;let c=u?443:80;if(a.options={},a.options.host=a.parsedUrl.hostname,a.options.port=a.parsedUrl.port?parseInt(a.parsedUrl.port):c,a.options.path=(a.parsedUrl.pathname||"")+(a.parsedUrl.search||""),a.options.method=e,a.options.headers=this._mergeHeaders(i),this.userAgent!=null&&(a.options.headers["user-agent"]=this.userAgent),a.options.agent=this._getAgent(a.parsedUrl),this.handlers)for(let h of this.handlers)h.prepareRequest(a.options);return a}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Pe(this.requestOptions.headers),Pe(e||{})):Pe(e||{})}_getExistingOrDefaultHeader(e,r,i){let a;return this.requestOptions&&this.requestOptions.headers&&(a=Pe(this.requestOptions.headers)[r]),e[r]||a||i}_getAgent(e){let r,i=yr.getProxyUrl(e),a=i&&i.hostname;if(this._keepAlive&&a&&(r=this._proxyAgent),this._keepAlive&&!a&&(r=this._agent),r)return r;let u=e.protocol==="https:",c=100;if(this.requestOptions&&(c=this.requestOptions.maxSockets||De.globalAgent.maxSockets),i&&i.hostname){let h={maxSockets:c,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(i.username||i.password)&&{proxyAuth:`${i.username}:${i.password}`}),{host:i.hostname,port:i.port})},p,m=i.protocol==="https:";u?p=m?Ce.httpsOverHttps:Ce.httpsOverHttp:p=m?Ce.httpOverHttps:Ce.httpOverHttp,r=p(h),this._proxyAgent=r}if(this._keepAlive&&!r){let h={keepAlive:this._keepAlive,maxSockets:c};r=u?new st.Agent(h):new De.Agent(h),this._agent=r}return r||(r=u?st.globalAgent:De.globalAgent),u&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(e){return I(this,void 0,void 0,function*(){e=Math.min(di,e);let r=hi*Math.pow(2,e);return new Promise(i=>setTimeout(()=>i(),r))})}_processResponse(e,r){return I(this,void 0,void 0,function*(){return new Promise((i,a)=>I(this,void 0,void 0,function*(){let u=e.message.statusCode||0,c={statusCode:u,result:null,headers:{}};u===Y.NotFound&&i(c);function h(g,y){if(typeof y=="string"){let _=new Date(y);if(!isNaN(_.valueOf()))return _}return y}let p,m;try{m=yield e.readBody(),m&&m.length>0&&(r&&r.deserializeDates?p=JSON.parse(m,h):p=JSON.parse(m),c.result=p),c.headers=e.message.headers}catch{}if(u>299){let g;p&&p.message?g=p.message:m&&m.length>0?g=m:g=`Failed request: (${u})`;let y=new Re(g,u);y.result=c.result,a(y)}else i(c)}))})}};A.HttpClient=at;var Pe=t=>Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{})});var _r=x(H=>{"use strict";var lt=H&&H.__awaiter||function(t,e,r,i){function a(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function h(g){try{m(i.next(g))}catch(y){c(y)}}function p(g){try{m(i.throw(g))}catch(y){c(y)}}function m(g){g.done?u(g.value):a(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};Object.defineProperty(H,"__esModule",{value:!0});H.PersonalAccessTokenCredentialHandler=H.BearerCredentialHandler=H.BasicCredentialHandler=void 0;var ot=class{constructor(e,r){this.username=e,this.password=r}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return lt(this,void 0,void 0,function*(){throw new Error("not implemented")})}};H.BasicCredentialHandler=ot;var ut=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return lt(this,void 0,void 0,function*(){throw new Error("not implemented")})}};H.BearerCredentialHandler=ut;var ct=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return lt(this,void 0,void 0,function*(){throw new Error("not implemented")})}};H.PersonalAccessTokenCredentialHandler=ct});var br=x(le=>{"use strict";var vr=le&&le.__awaiter||function(t,e,r,i){function a(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function h(g){try{m(i.next(g))}catch(y){c(y)}}function p(g){try{m(i.throw(g))}catch(y){c(y)}}function m(g){g.done?u(g.value):a(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};Object.defineProperty(le,"__esModule",{value:!0});le.OidcClient=void 0;var pi=Tr(),gi=_r(),wr=dt(),ft=class t{static createHttpClient(e=!0,r=10){let i={allowRetries:e,maxRetries:r};return new pi.HttpClient("actions/oidc-client",[new gi.BearerCredentialHandler(t.getRequestToken())],i)}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var r;return vr(this,void 0,void 0,function*(){let u=(r=(yield t.createHttpClient().getJson(e).catch(c=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${c.statusCode}
 
        Error Message: ${c.message}`)})).result)===null||r===void 0?void 0:r.value;if(!u)throw new Error("Response json body do not have ID Token field");return u})}static getIDToken(e){return vr(this,void 0,void 0,function*(){try{let r=t.getIDTokenUrl();if(e){let a=encodeURIComponent(e);r=`${r}&audience=${a}`}wr.debug(`ID token url is ${r}`);let i=yield t.getCall(r);return wr.setSecret(i),i}catch(r){throw new Error(`Error message: ${r.message}`)}})}};le.OidcClient=ft});var gt=x(L=>{"use strict";var ht=L&&L.__awaiter||function(t,e,r,i){function a(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function h(g){try{m(i.next(g))}catch(y){c(y)}}function p(g){try{m(i.throw(g))}catch(y){c(y)}}function m(g){g.done?u(g.value):a(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};Object.defineProperty(L,"__esModule",{value:!0});L.summary=L.markdownSummary=L.SUMMARY_DOCS_URL=L.SUMMARY_ENV_VAR=void 0;var Ei=require("os"),mt=require("fs"),{access:yi,appendFile:Ti,writeFile:_i}=mt.promises;L.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";L.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var pt=class{constructor(){this._buffer=""}filePath(){return ht(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let e=process.env[L.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${L.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield yi(e,mt.constants.R_OK|mt.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,r,i={}){let a=Object.entries(i).map(([u,c])=>` ${u}="${c}"`).join("");return r?`<${e}${a}>${r}</${e}>`:`<${e}${a}>`}write(e){return ht(this,void 0,void 0,function*(){let r=!!(e!=null&&e.overwrite),i=yield this.filePath();return yield(r?_i:Ti)(i,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return ht(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(e,r=!1){return this._buffer+=e,r?this.addEOL():this}addEOL(){return this.addRaw(Ei.EOL)}addCodeBlock(e,r){let i=Object.assign({},r&&{lang:r}),a=this.wrap("pre",this.wrap("code",e),i);return this.addRaw(a).addEOL()}addList(e,r=!1){let i=r?"ol":"ul",a=e.map(c=>this.wrap("li",c)).join(""),u=this.wrap(i,a);return this.addRaw(u).addEOL()}addTable(e){let r=e.map(a=>{let u=a.map(c=>{if(typeof c=="string")return this.wrap("td",c);let{header:h,data:p,colspan:m,rowspan:g}=c,y=h?"th":"td",_=Object.assign(Object.assign({},m&&{colspan:m}),g&&{rowspan:g});return this.wrap(y,p,_)}).join("");return this.wrap("tr",u)}).join(""),i=this.wrap("table",r);return this.addRaw(i).addEOL()}addDetails(e,r){let i=this.wrap("details",this.wrap("summary",e)+r);return this.addRaw(i).addEOL()}addImage(e,r,i){let{width:a,height:u}=i||{},c=Object.assign(Object.assign({},a&&{width:a}),u&&{height:u}),h=this.wrap("img",null,Object.assign({src:e,alt:r},c));return this.addRaw(h).addEOL()}addHeading(e,r){let i=`h${r}`,a=["h1","h2","h3","h4","h5","h6"].includes(i)?i:"h1",u=this.wrap(a,e);return this.addRaw(u).addEOL()}addSeparator(){let e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){let e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,r){let i=Object.assign({},r&&{cite:r}),a=this.wrap("blockquote",e,i);return this.addRaw(a).addEOL()}addLink(e,r){let i=this.wrap("a",e,{href:r});return this.addRaw(i).addEOL()}},Ar=new pt;L.markdownSummary=Ar;L.summary=Ar});var Or=x(k=>{"use strict";var vi=k&&k.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),wi=k&&k.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bi=k&&k.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&vi(e,t,r);return wi(e,t),e};Object.defineProperty(k,"__esModule",{value:!0});k.toPlatformPath=k.toWin32Path=k.toPosixPath=void 0;var Ai=bi(require("path"));function Oi(t){return t.replace(/[\\]/g,"/")}k.toPosixPath=Oi;function Ni(t){return t.replace(/[/]/g,"\\")}k.toWin32Path=Ni;function xi(t){return t.replace(/[/\\]/g,Ai.sep)}k.toPlatformPath=xi});var dt=x(E=>{"use strict";var Si=E&&E.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Fi=E&&E.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Nr=E&&E.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Si(e,t,r);return Fi(e,t),e},xr=E&&E.__awaiter||function(t,e,r,i){function a(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function h(g){try{m(i.next(g))}catch(y){c(y)}}function p(g){try{m(i.throw(g))}catch(y){c(y)}}function m(g){g.done?u(g.value):a(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};Object.defineProperty(E,"__esModule",{value:!0});E.getIDToken=E.getState=E.saveState=E.group=E.endGroup=E.startGroup=E.info=E.notice=E.warning=E.error=E.debug=E.isDebug=E.setFailed=E.setCommandEcho=E.setOutput=E.getBooleanInput=E.getMultilineInput=E.getInput=E.addPath=E.setSecret=E.exportVariable=E.ExitCode=void 0;var G=Ut(),se=cr(),fe=Ne(),Sr=Nr(require("os")),Ii=Nr(require("path")),Di=br(),Fr;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})(Fr=E.ExitCode||(E.ExitCode={}));function Ci(t,e){let r=fe.toCommandValue(e);if(process.env[t]=r,process.env.GITHUB_ENV||"")return se.issueFileCommand("ENV",se.prepareKeyValueMessage(t,e));G.issueCommand("set-env",{name:t},r)}E.exportVariable=Ci;function Pi(t){G.issueCommand("add-mask",{},t)}E.setSecret=Pi;function Ri(t){process.env.GITHUB_PATH||""?se.issueFileCommand("PATH",t):G.issueCommand("add-path",{},t),process.env.PATH=`${t}${Ii.delimiter}${process.env.PATH}`}E.addPath=Ri;function Et(t,e){let r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r)throw new Error(`Input required and not supplied: ${t}`);return e&&e.trimWhitespace===!1?r:r.trim()}E.getInput=Et;function Ui(t,e){let r=Et(t,e).split(`
`).filter(i=>i!=="");return e&&e.trimWhitespace===!1?r:r.map(i=>i.trim())}E.getMultilineInput=Ui;function qi(t,e){let r=["true","True","TRUE"],i=["false","False","FALSE"],a=Et(t,e);if(r.includes(a))return!0;if(i.includes(a))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}E.getBooleanInput=qi;function Bi(t,e){if(process.env.GITHUB_OUTPUT||"")return se.issueFileCommand("OUTPUT",se.prepareKeyValueMessage(t,e));process.stdout.write(Sr.EOL),G.issueCommand("set-output",{name:t},fe.toCommandValue(e))}E.setOutput=Bi;function Mi(t){G.issue("echo",t?"on":"off")}E.setCommandEcho=Mi;function Ki(t){process.exitCode=Fr.Failure,Ir(t)}E.setFailed=Ki;function Li(){return process.env.RUNNER_DEBUG==="1"}E.isDebug=Li;function ki(t){G.issueCommand("debug",{},t)}E.debug=ki;function Ir(t,e={}){G.issueCommand("error",fe.toCommandProperties(e),t instanceof Error?t.toString():t)}E.error=Ir;function ji(t,e={}){G.issueCommand("warning",fe.toCommandProperties(e),t instanceof Error?t.toString():t)}E.warning=ji;function Vi(t,e={}){G.issueCommand("notice",fe.toCommandProperties(e),t instanceof Error?t.toString():t)}E.notice=Vi;function Gi(t){process.stdout.write(t+Sr.EOL)}E.info=Gi;function Dr(t){G.issue("group",t)}E.startGroup=Dr;function Cr(){G.issue("endgroup")}E.endGroup=Cr;function $i(t,e){return xr(this,void 0,void 0,function*(){Dr(t);let r;try{r=yield e()}finally{Cr()}return r})}E.group=$i;function Yi(t,e){if(process.env.GITHUB_STATE||"")return se.issueFileCommand("STATE",se.prepareKeyValueMessage(t,e));G.issueCommand("save-state",{name:t},fe.toCommandValue(e))}E.saveState=Yi;function Xi(t){return process.env[`STATE_${t}`]||""}E.getState=Xi;function Hi(t){return xr(this,void 0,void 0,function*(){return yield Di.OidcClient.getIDToken(t)})}E.getIDToken=Hi;var Wi=gt();Object.defineProperty(E,"summary",{enumerable:!0,get:function(){return Wi.summary}});var Qi=gt();Object.defineProperty(E,"markdownSummary",{enumerable:!0,get:function(){return Qi.markdownSummary}});var yt=Or();Object.defineProperty(E,"toPosixPath",{enumerable:!0,get:function(){return yt.toPosixPath}});Object.defineProperty(E,"toWin32Path",{enumerable:!0,get:function(){return yt.toWin32Path}});Object.defineProperty(E,"toPlatformPath",{enumerable:!0,get:function(){return yt.toPlatformPath}})});var Pr=x(Be=>{(function(t){t.parser=function(s,n){return new r(s,n)},t.SAXParser=r,t.SAXStream=m,t.createStream=p,t.MAX_BUFFER_LENGTH=64*1024;var e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(s,n){if(!(this instanceof r))return new r(s,n);var d=this;a(d),d.q=d.c="",d.bufferCheckPosition=t.MAX_BUFFER_LENGTH,d.opt=n||{},d.opt.lowercase=d.opt.lowercase||d.opt.lowercasetags,d.looseCase=d.opt.lowercase?"toLowerCase":"toUpperCase",d.tags=[],d.closed=d.closedRoot=d.sawRoot=!1,d.tag=d.error=null,d.strict=!!s,d.noscript=!!(s||d.opt.noscript),d.state=l.BEGIN,d.strictEntities=d.opt.strictEntities,d.ENTITIES=d.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),d.attribList=[],d.opt.xmlns&&(d.ns=Object.create(ne)),d.opt.unquotedAttributeValues===void 0&&(d.opt.unquotedAttributeValues=!s),d.trackPosition=d.opt.position!==!1,d.trackPosition&&(d.position=d.line=d.column=0),me(d,"onready")}Object.create||(Object.create=function(s){function n(){}n.prototype=s;var d=new n;return d}),Object.keys||(Object.keys=function(s){var n=[];for(var d in s)s.hasOwnProperty(d)&&n.push(d);return n});function i(s){for(var n=Math.max(t.MAX_BUFFER_LENGTH,10),d=0,o=0,b=e.length;o<b;o++){var S=s[e[o]].length;if(S>n)switch(e[o]){case"textNode":pe(s);break;case"cdata":N(s,"oncdata",s.cdata),s.cdata="";break;case"script":N(s,"onscript",s.script),s.script="";break;default:ge(s,"Max buffer length exceeded: "+e[o])}d=Math.max(d,S)}var F=t.MAX_BUFFER_LENGTH-d;s.bufferCheckPosition=F+s.position}function a(s){for(var n=0,d=e.length;n<d;n++)s[e[n]]=""}function u(s){pe(s),s.cdata!==""&&(N(s,"oncdata",s.cdata),s.cdata=""),s.script!==""&&(N(s,"onscript",s.script),s.script="")}r.prototype={end:function(){Nt(this)},write:gn,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){u(this)}};var c;try{c=require("stream").Stream}catch{c=function(){}}c||(c=function(){});var h=t.EVENTS.filter(function(s){return s!=="error"&&s!=="end"});function p(s,n){return new m(s,n)}function m(s,n){if(!(this instanceof m))return new m(s,n);c.apply(this),this._parser=new r(s,n),this.writable=!0,this.readable=!0;var d=this;this._parser.onend=function(){d.emit("end")},this._parser.onerror=function(o){d.emit("error",o),d._parser.error=null},this._decoder=null,h.forEach(function(o){Object.defineProperty(d,"on"+o,{get:function(){return d._parser["on"+o]},set:function(b){if(!b)return d.removeAllListeners(o),d._parser["on"+o]=b,b;d.on(o,b)},enumerable:!0,configurable:!1})})}m.prototype=Object.create(c.prototype,{constructor:{value:m}}),m.prototype.write=function(s){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(s)){if(!this._decoder){var n=require("string_decoder").StringDecoder;this._decoder=new n("utf8")}s=this._decoder.write(s)}return this._parser.write(s.toString()),this.emit("data",s),!0},m.prototype.end=function(s){return s&&s.length&&this.write(s),this._parser.end(),!0},m.prototype.on=function(s,n){var d=this;return!d._parser["on"+s]&&h.indexOf(s)!==-1&&(d._parser["on"+s]=function(){var o=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);o.splice(0,0,s),d.emit.apply(d,o)}),c.prototype.on.call(d,s,n)};var g="[CDATA[",y="DOCTYPE",_="http://www.w3.org/XML/1998/namespace",X="http://www.w3.org/2000/xmlns/",ne={xml:_,xmlns:X},he=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Ge=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,ln=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,fn=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function U(s){return s===" "||s===`
`||s==="\r"||s==="	"}function Ae(s){return s==='"'||s==="'"}function dn(s){return s===">"||U(s)}function Q(s,n){return s.test(n)}function hn(s,n){return!Q(s,n)}var l=0;t.STATE={BEGIN:l++,BEGIN_WHITESPACE:l++,TEXT:l++,TEXT_ENTITY:l++,OPEN_WAKA:l++,SGML_DECL:l++,SGML_DECL_QUOTED:l++,DOCTYPE:l++,DOCTYPE_QUOTED:l++,DOCTYPE_DTD:l++,DOCTYPE_DTD_QUOTED:l++,COMMENT_STARTING:l++,COMMENT:l++,COMMENT_ENDING:l++,COMMENT_ENDED:l++,CDATA:l++,CDATA_ENDING:l++,CDATA_ENDING_2:l++,PROC_INST:l++,PROC_INST_BODY:l++,PROC_INST_ENDING:l++,OPEN_TAG:l++,OPEN_TAG_SLASH:l++,ATTRIB:l++,ATTRIB_NAME:l++,ATTRIB_NAME_SAW_WHITE:l++,ATTRIB_VALUE:l++,ATTRIB_VALUE_QUOTED:l++,ATTRIB_VALUE_CLOSED:l++,ATTRIB_VALUE_UNQUOTED:l++,ATTRIB_VALUE_ENTITY_Q:l++,ATTRIB_VALUE_ENTITY_U:l++,CLOSE_TAG:l++,CLOSE_TAG_SAW_WHITE:l++,SCRIPT:l++,SCRIPT_ENDING:l++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(s){var n=t.ENTITIES[s],d=typeof n=="number"?String.fromCharCode(n):n;t.ENTITIES[s]=d});for(var At in t.STATE)t.STATE[t.STATE[At]]=At;l=t.STATE;function me(s,n,d){s[n]&&s[n](d)}function N(s,n,d){s.textNode&&pe(s),me(s,n,d)}function pe(s){s.textNode=Ot(s.opt,s.textNode),s.textNode&&me(s,"ontext",s.textNode),s.textNode=""}function Ot(s,n){return s.trim&&(n=n.trim()),s.normalize&&(n=n.replace(/\s+/g," ")),n}function ge(s,n){return pe(s),s.trackPosition&&(n+=`
Line: `+s.line+`
Column: `+s.column+`
Char: `+s.c),n=new Error(n),s.error=n,me(s,"onerror",n),s}function Nt(s){return s.sawRoot&&!s.closedRoot&&O(s,"Unclosed root tag"),s.state!==l.BEGIN&&s.state!==l.BEGIN_WHITESPACE&&s.state!==l.TEXT&&ge(s,"Unexpected end"),pe(s),s.c="",s.closed=!0,me(s,"onend"),r.call(s,s.strict,s.opt),s}function O(s,n){if(typeof s!="object"||!(s instanceof r))throw new Error("bad call to strictFail");s.strict&&ge(s,n)}function mn(s){s.strict||(s.tagName=s.tagName[s.looseCase]());var n=s.tags[s.tags.length-1]||s,d=s.tag={name:s.tagName,attributes:{}};s.opt.xmlns&&(d.ns=n.ns),s.attribList.length=0,N(s,"onopentagstart",d)}function $e(s,n){var d=s.indexOf(":"),o=d<0?["",s]:s.split(":"),b=o[0],S=o[1];return n&&s==="xmlns"&&(b="xmlns",S=""),{prefix:b,local:S}}function Ye(s){if(s.strict||(s.attribName=s.attribName[s.looseCase]()),s.attribList.indexOf(s.attribName)!==-1||s.tag.attributes.hasOwnProperty(s.attribName)){s.attribName=s.attribValue="";return}if(s.opt.xmlns){var n=$e(s.attribName,!0),d=n.prefix,o=n.local;if(d==="xmlns")if(o==="xml"&&s.attribValue!==_)O(s,"xml: prefix must be bound to "+_+`
Actual: `+s.attribValue);else if(o==="xmlns"&&s.attribValue!==X)O(s,"xmlns: prefix must be bound to "+X+`
Actual: `+s.attribValue);else{var b=s.tag,S=s.tags[s.tags.length-1]||s;b.ns===S.ns&&(b.ns=Object.create(S.ns)),b.ns[o]=s.attribValue}s.attribList.push([s.attribName,s.attribValue])}else s.tag.attributes[s.attribName]=s.attribValue,N(s,"onattribute",{name:s.attribName,value:s.attribValue});s.attribName=s.attribValue=""}function ie(s,n){if(s.opt.xmlns){var d=s.tag,o=$e(s.tagName);d.prefix=o.prefix,d.local=o.local,d.uri=d.ns[o.prefix]||"",d.prefix&&!d.uri&&(O(s,"Unbound namespace prefix: "+JSON.stringify(s.tagName)),d.uri=o.prefix);var b=s.tags[s.tags.length-1]||s;d.ns&&b.ns!==d.ns&&Object.keys(d.ns).forEach(function(It){N(s,"onopennamespace",{prefix:It,uri:d.ns[It]})});for(var S=0,F=s.attribList.length;S<F;S++){var M=s.attribList[S],K=M[0],ae=M[1],D=$e(K,!0),J=D.prefix,En=D.local,Ft=J===""?"":d.ns[J]||"",He={name:K,value:ae,prefix:J,local:En,uri:Ft};J&&J!=="xmlns"&&!Ft&&(O(s,"Unbound namespace prefix: "+JSON.stringify(J)),He.uri=J),s.tag.attributes[K]=He,N(s,"onattribute",He)}s.attribList.length=0}s.tag.isSelfClosing=!!n,s.sawRoot=!0,s.tags.push(s.tag),N(s,"onopentag",s.tag),n||(!s.noscript&&s.tagName.toLowerCase()==="script"?s.state=l.SCRIPT:s.state=l.TEXT,s.tag=null,s.tagName=""),s.attribName=s.attribValue="",s.attribList.length=0}function Xe(s){if(!s.tagName){O(s,"Weird empty close tag."),s.textNode+="</>",s.state=l.TEXT;return}if(s.script){if(s.tagName!=="script"){s.script+="</"+s.tagName+">",s.tagName="",s.state=l.SCRIPT;return}N(s,"onscript",s.script),s.script=""}var n=s.tags.length,d=s.tagName;s.strict||(d=d[s.looseCase]());for(var o=d;n--;){var b=s.tags[n];if(b.name!==o)O(s,"Unexpected close tag");else break}if(n<0){O(s,"Unmatched closing tag: "+s.tagName),s.textNode+="</"+s.tagName+">",s.state=l.TEXT;return}s.tagName=d;for(var S=s.tags.length;S-- >n;){var F=s.tag=s.tags.pop();s.tagName=s.tag.name,N(s,"onclosetag",s.tagName);var M={};for(var K in F.ns)M[K]=F.ns[K];var ae=s.tags[s.tags.length-1]||s;s.opt.xmlns&&F.ns!==ae.ns&&Object.keys(F.ns).forEach(function(D){var J=F.ns[D];N(s,"onclosenamespace",{prefix:D,uri:J})})}n===0&&(s.closedRoot=!0),s.tagName=s.attribValue=s.attribName="",s.attribList.length=0,s.state=l.TEXT}function pn(s){var n=s.entity,d=n.toLowerCase(),o,b="";return s.ENTITIES[n]?s.ENTITIES[n]:s.ENTITIES[d]?s.ENTITIES[d]:(n=d,n.charAt(0)==="#"&&(n.charAt(1)==="x"?(n=n.slice(2),o=parseInt(n,16),b=o.toString(16)):(n=n.slice(1),o=parseInt(n,10),b=o.toString(10))),n=n.replace(/^0+/,""),isNaN(o)||b.toLowerCase()!==n?(O(s,"Invalid character entity"),"&"+s.entity+";"):String.fromCodePoint(o))}function xt(s,n){n==="<"?(s.state=l.OPEN_WAKA,s.startTagPosition=s.position):U(n)||(O(s,"Non-whitespace before first tag."),s.textNode=n,s.state=l.TEXT)}function St(s,n){var d="";return n<s.length&&(d=s.charAt(n)),d}function gn(s){var n=this;if(this.error)throw this.error;if(n.closed)return ge(n,"Cannot write after close. Assign an onready handler.");if(s===null)return Nt(n);typeof s=="object"&&(s=s.toString());for(var d=0,o="";o=St(s,d++),n.c=o,!!o;)switch(n.trackPosition&&(n.position++,o===`
`?(n.line++,n.column=0):n.column++),n.state){case l.BEGIN:if(n.state=l.BEGIN_WHITESPACE,o==="\uFEFF")continue;xt(n,o);continue;case l.BEGIN_WHITESPACE:xt(n,o);continue;case l.TEXT:if(n.sawRoot&&!n.closedRoot){for(var b=d-1;o&&o!=="<"&&o!=="&";)o=St(s,d++),o&&n.trackPosition&&(n.position++,o===`
`?(n.line++,n.column=0):n.column++);n.textNode+=s.substring(b,d-1)}o==="<"&&!(n.sawRoot&&n.closedRoot&&!n.strict)?(n.state=l.OPEN_WAKA,n.startTagPosition=n.position):(!U(o)&&(!n.sawRoot||n.closedRoot)&&O(n,"Text data outside of root node."),o==="&"?n.state=l.TEXT_ENTITY:n.textNode+=o);continue;case l.SCRIPT:o==="<"?n.state=l.SCRIPT_ENDING:n.script+=o;continue;case l.SCRIPT_ENDING:o==="/"?n.state=l.CLOSE_TAG:(n.script+="<"+o,n.state=l.SCRIPT);continue;case l.OPEN_WAKA:if(o==="!")n.state=l.SGML_DECL,n.sgmlDecl="";else if(!U(o))if(Q(he,o))n.state=l.OPEN_TAG,n.tagName=o;else if(o==="/")n.state=l.CLOSE_TAG,n.tagName="";else if(o==="?")n.state=l.PROC_INST,n.procInstName=n.procInstBody="";else{if(O(n,"Unencoded <"),n.startTagPosition+1<n.position){var S=n.position-n.startTagPosition;o=new Array(S).join(" ")+o}n.textNode+="<"+o,n.state=l.TEXT}continue;case l.SGML_DECL:if(n.sgmlDecl+o==="--"){n.state=l.COMMENT,n.comment="",n.sgmlDecl="";continue}n.doctype&&n.doctype!==!0&&n.sgmlDecl?(n.state=l.DOCTYPE_DTD,n.doctype+="<!"+n.sgmlDecl+o,n.sgmlDecl=""):(n.sgmlDecl+o).toUpperCase()===g?(N(n,"onopencdata"),n.state=l.CDATA,n.sgmlDecl="",n.cdata=""):(n.sgmlDecl+o).toUpperCase()===y?(n.state=l.DOCTYPE,(n.doctype||n.sawRoot)&&O(n,"Inappropriately located doctype declaration"),n.doctype="",n.sgmlDecl=""):o===">"?(N(n,"onsgmldeclaration",n.sgmlDecl),n.sgmlDecl="",n.state=l.TEXT):(Ae(o)&&(n.state=l.SGML_DECL_QUOTED),n.sgmlDecl+=o);continue;case l.SGML_DECL_QUOTED:o===n.q&&(n.state=l.SGML_DECL,n.q=""),n.sgmlDecl+=o;continue;case l.DOCTYPE:o===">"?(n.state=l.TEXT,N(n,"ondoctype",n.doctype),n.doctype=!0):(n.doctype+=o,o==="["?n.state=l.DOCTYPE_DTD:Ae(o)&&(n.state=l.DOCTYPE_QUOTED,n.q=o));continue;case l.DOCTYPE_QUOTED:n.doctype+=o,o===n.q&&(n.q="",n.state=l.DOCTYPE);continue;case l.DOCTYPE_DTD:o==="]"?(n.doctype+=o,n.state=l.DOCTYPE):o==="<"?(n.state=l.OPEN_WAKA,n.startTagPosition=n.position):Ae(o)?(n.doctype+=o,n.state=l.DOCTYPE_DTD_QUOTED,n.q=o):n.doctype+=o;continue;case l.DOCTYPE_DTD_QUOTED:n.doctype+=o,o===n.q&&(n.state=l.DOCTYPE_DTD,n.q="");continue;case l.COMMENT:o==="-"?n.state=l.COMMENT_ENDING:n.comment+=o;continue;case l.COMMENT_ENDING:o==="-"?(n.state=l.COMMENT_ENDED,n.comment=Ot(n.opt,n.comment),n.comment&&N(n,"oncomment",n.comment),n.comment=""):(n.comment+="-"+o,n.state=l.COMMENT);continue;case l.COMMENT_ENDED:o!==">"?(O(n,"Malformed comment"),n.comment+="--"+o,n.state=l.COMMENT):n.doctype&&n.doctype!==!0?n.state=l.DOCTYPE_DTD:n.state=l.TEXT;continue;case l.CDATA:o==="]"?n.state=l.CDATA_ENDING:n.cdata+=o;continue;case l.CDATA_ENDING:o==="]"?n.state=l.CDATA_ENDING_2:(n.cdata+="]"+o,n.state=l.CDATA);continue;case l.CDATA_ENDING_2:o===">"?(n.cdata&&N(n,"oncdata",n.cdata),N(n,"onclosecdata"),n.cdata="",n.state=l.TEXT):o==="]"?n.cdata+="]":(n.cdata+="]]"+o,n.state=l.CDATA);continue;case l.PROC_INST:o==="?"?n.state=l.PROC_INST_ENDING:U(o)?n.state=l.PROC_INST_BODY:n.procInstName+=o;continue;case l.PROC_INST_BODY:if(!n.procInstBody&&U(o))continue;o==="?"?n.state=l.PROC_INST_ENDING:n.procInstBody+=o;continue;case l.PROC_INST_ENDING:o===">"?(N(n,"onprocessinginstruction",{name:n.procInstName,body:n.procInstBody}),n.procInstName=n.procInstBody="",n.state=l.TEXT):(n.procInstBody+="?"+o,n.state=l.PROC_INST_BODY);continue;case l.OPEN_TAG:Q(Ge,o)?n.tagName+=o:(mn(n),o===">"?ie(n):o==="/"?n.state=l.OPEN_TAG_SLASH:(U(o)||O(n,"Invalid character in tag name"),n.state=l.ATTRIB));continue;case l.OPEN_TAG_SLASH:o===">"?(ie(n,!0),Xe(n)):(O(n,"Forward-slash in opening tag not followed by >"),n.state=l.ATTRIB);continue;case l.ATTRIB:if(U(o))continue;o===">"?ie(n):o==="/"?n.state=l.OPEN_TAG_SLASH:Q(he,o)?(n.attribName=o,n.attribValue="",n.state=l.ATTRIB_NAME):O(n,"Invalid attribute name");continue;case l.ATTRIB_NAME:o==="="?n.state=l.ATTRIB_VALUE:o===">"?(O(n,"Attribute without value"),n.attribValue=n.attribName,Ye(n),ie(n)):U(o)?n.state=l.ATTRIB_NAME_SAW_WHITE:Q(Ge,o)?n.attribName+=o:O(n,"Invalid attribute name");continue;case l.ATTRIB_NAME_SAW_WHITE:if(o==="=")n.state=l.ATTRIB_VALUE;else{if(U(o))continue;O(n,"Attribute without value"),n.tag.attributes[n.attribName]="",n.attribValue="",N(n,"onattribute",{name:n.attribName,value:""}),n.attribName="",o===">"?ie(n):Q(he,o)?(n.attribName=o,n.state=l.ATTRIB_NAME):(O(n,"Invalid attribute name"),n.state=l.ATTRIB)}continue;case l.ATTRIB_VALUE:if(U(o))continue;Ae(o)?(n.q=o,n.state=l.ATTRIB_VALUE_QUOTED):(n.opt.unquotedAttributeValues||ge(n,"Unquoted attribute value"),n.state=l.ATTRIB_VALUE_UNQUOTED,n.attribValue=o);continue;case l.ATTRIB_VALUE_QUOTED:if(o!==n.q){o==="&"?n.state=l.ATTRIB_VALUE_ENTITY_Q:n.attribValue+=o;continue}Ye(n),n.q="",n.state=l.ATTRIB_VALUE_CLOSED;continue;case l.ATTRIB_VALUE_CLOSED:U(o)?n.state=l.ATTRIB:o===">"?ie(n):o==="/"?n.state=l.OPEN_TAG_SLASH:Q(he,o)?(O(n,"No whitespace between attributes"),n.attribName=o,n.attribValue="",n.state=l.ATTRIB_NAME):O(n,"Invalid attribute name");continue;case l.ATTRIB_VALUE_UNQUOTED:if(!dn(o)){o==="&"?n.state=l.ATTRIB_VALUE_ENTITY_U:n.attribValue+=o;continue}Ye(n),o===">"?ie(n):n.state=l.ATTRIB;continue;case l.CLOSE_TAG:if(n.tagName)o===">"?Xe(n):Q(Ge,o)?n.tagName+=o:n.script?(n.script+="</"+n.tagName,n.tagName="",n.state=l.SCRIPT):(U(o)||O(n,"Invalid tagname in closing tag"),n.state=l.CLOSE_TAG_SAW_WHITE);else{if(U(o))continue;hn(he,o)?n.script?(n.script+="</"+o,n.state=l.SCRIPT):O(n,"Invalid tagname in closing tag."):n.tagName=o}continue;case l.CLOSE_TAG_SAW_WHITE:if(U(o))continue;o===">"?Xe(n):O(n,"Invalid characters in closing tag");continue;case l.TEXT_ENTITY:case l.ATTRIB_VALUE_ENTITY_Q:case l.ATTRIB_VALUE_ENTITY_U:var F,M;switch(n.state){case l.TEXT_ENTITY:F=l.TEXT,M="textNode";break;case l.ATTRIB_VALUE_ENTITY_Q:F=l.ATTRIB_VALUE_QUOTED,M="attribValue";break;case l.ATTRIB_VALUE_ENTITY_U:F=l.ATTRIB_VALUE_UNQUOTED,M="attribValue";break}if(o===";"){var K=pn(n);n.opt.unparsedEntities&&!Object.values(t.XML_ENTITIES).includes(K)?(n.entity="",n.state=F,n.write(K)):(n[M]+=K,n.entity="",n.state=F)}else Q(n.entity.length?fn:ln,o)?n.entity+=o:(O(n,"Invalid character in entity name"),n[M]+="&"+n.entity+o,n.entity="",n.state=F);continue;default:throw new Error(n,"Unknown state: "+n.state)}return n.position>=n.bufferCheckPosition&&i(n),n}String.fromCodePoint||function(){var s=String.fromCharCode,n=Math.floor,d=function(){var o=16384,b=[],S,F,M=-1,K=arguments.length;if(!K)return"";for(var ae="";++M<K;){var D=Number(arguments[M]);if(!isFinite(D)||D<0||D>1114111||n(D)!==D)throw RangeError("Invalid code point: "+D);D<=65535?b.push(D):(D-=65536,S=(D>>10)+55296,F=D%1024+56320,b.push(S,F)),(M+1===K||b.length>o)&&(ae+=s.apply(null,b),b.length=0)}return ae};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:d,configurable:!0,writable:!0}):String.fromCodePoint=d}()})(typeof Be>"u"?Be.sax={}:Be)});var Me=x((ya,Rr)=>{Rr.exports={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}});var Ke=x((Ta,Ur)=>{var Ji=Me().isArray;Ur.exports={copyOptions:function(t){var e,r={};for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r},ensureFlagExists:function(t,e){(!(t in e)||typeof e[t]!="boolean")&&(e[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!Ji(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,e){(!(t+"Key"in e)||typeof e[t+"Key"]!="string")&&(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}}});var _t=x((_a,Vr)=>{var zi=Pr(),Zi={on:function(){},parse:function(){}},v=Ke(),de=Me().isArray,f,Tt=!0,T;function es(t){return f=v.copyOptions(t),v.ensureFlagExists("ignoreDeclaration",f),v.ensureFlagExists("ignoreInstruction",f),v.ensureFlagExists("ignoreAttributes",f),v.ensureFlagExists("ignoreText",f),v.ensureFlagExists("ignoreComment",f),v.ensureFlagExists("ignoreCdata",f),v.ensureFlagExists("ignoreDoctype",f),v.ensureFlagExists("compact",f),v.ensureFlagExists("alwaysChildren",f),v.ensureFlagExists("addParent",f),v.ensureFlagExists("trim",f),v.ensureFlagExists("nativeType",f),v.ensureFlagExists("nativeTypeAttributes",f),v.ensureFlagExists("sanitize",f),v.ensureFlagExists("instructionHasAttributes",f),v.ensureFlagExists("captureSpacesBetweenElements",f),v.ensureAlwaysArrayExists(f),v.ensureKeyExists("declaration",f),v.ensureKeyExists("instruction",f),v.ensureKeyExists("attributes",f),v.ensureKeyExists("text",f),v.ensureKeyExists("comment",f),v.ensureKeyExists("cdata",f),v.ensureKeyExists("doctype",f),v.ensureKeyExists("type",f),v.ensureKeyExists("name",f),v.ensureKeyExists("elements",f),v.ensureKeyExists("parent",f),v.checkFnExists("doctype",f),v.checkFnExists("instruction",f),v.checkFnExists("cdata",f),v.checkFnExists("comment",f),v.checkFnExists("text",f),v.checkFnExists("instructionName",f),v.checkFnExists("elementName",f),v.checkFnExists("attributeName",f),v.checkFnExists("attributeValue",f),v.checkFnExists("attributes",f),f}function kr(t){var e=Number(t);if(!isNaN(e))return e;var r=t.toLowerCase();return r==="true"?!0:r==="false"?!1:t}function ve(t,e){var r;if(f.compact){if(!T[f[t+"Key"]]&&(de(f.alwaysArray)?f.alwaysArray.indexOf(f[t+"Key"])!==-1:f.alwaysArray)&&(T[f[t+"Key"]]=[]),T[f[t+"Key"]]&&!de(T[f[t+"Key"]])&&(T[f[t+"Key"]]=[T[f[t+"Key"]]]),t+"Fn"in f&&typeof e=="string"&&(e=f[t+"Fn"](e,T)),t==="instruction"&&("instructionFn"in f||"instructionNameFn"in f)){for(r in e)if(e.hasOwnProperty(r))if("instructionFn"in f)e[r]=f.instructionFn(e[r],r,T);else{var i=e[r];delete e[r],e[f.instructionNameFn(r,i,T)]=i}}de(T[f[t+"Key"]])?T[f[t+"Key"]].push(e):T[f[t+"Key"]]=e}else{T[f.elementsKey]||(T[f.elementsKey]=[]);var a={};if(a[f.typeKey]=t,t==="instruction"){for(r in e)if(e.hasOwnProperty(r))break;a[f.nameKey]="instructionNameFn"in f?f.instructionNameFn(r,e,T):r,f.instructionHasAttributes?(a[f.attributesKey]=e[r][f.attributesKey],"instructionFn"in f&&(a[f.attributesKey]=f.instructionFn(a[f.attributesKey],r,T))):("instructionFn"in f&&(e[r]=f.instructionFn(e[r],r,T)),a[f.instructionKey]=e[r])}else t+"Fn"in f&&(e=f[t+"Fn"](e,T)),a[f[t+"Key"]]=e;f.addParent&&(a[f.parentKey]=T),T[f.elementsKey].push(a)}}function jr(t){if("attributesFn"in f&&t&&(t=f.attributesFn(t,T)),(f.trim||"attributeValueFn"in f||"attributeNameFn"in f||f.nativeTypeAttributes)&&t){var e;for(e in t)if(t.hasOwnProperty(e)&&(f.trim&&(t[e]=t[e].trim()),f.nativeTypeAttributes&&(t[e]=kr(t[e])),"attributeValueFn"in f&&(t[e]=f.attributeValueFn(t[e],e,T)),"attributeNameFn"in f)){var r=t[e];delete t[e],t[f.attributeNameFn(e,t[e],T)]=r}}return t}function ts(t){var e={};if(t.body&&(t.name.toLowerCase()==="xml"||f.instructionHasAttributes)){for(var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,i;(i=r.exec(t.body))!==null;)e[i[1]]=i[2]||i[3]||i[4];e=jr(e)}if(t.name.toLowerCase()==="xml"){if(f.ignoreDeclaration)return;T[f.declarationKey]={},Object.keys(e).length&&(T[f.declarationKey][f.attributesKey]=e),f.addParent&&(T[f.declarationKey][f.parentKey]=T)}else{if(f.ignoreInstruction)return;f.trim&&(t.body=t.body.trim());var a={};f.instructionHasAttributes&&Object.keys(e).length?(a[t.name]={},a[t.name][f.attributesKey]=e):a[t.name]=t.body,ve("instruction",a)}}function qr(t,e){var r;if(typeof t=="object"&&(e=t.attributes,t=t.name),e=jr(e),"elementNameFn"in f&&(t=f.elementNameFn(t,T)),f.compact){if(r={},!f.ignoreAttributes&&e&&Object.keys(e).length){r[f.attributesKey]={};var i;for(i in e)e.hasOwnProperty(i)&&(r[f.attributesKey][i]=e[i])}!(t in T)&&(de(f.alwaysArray)?f.alwaysArray.indexOf(t)!==-1:f.alwaysArray)&&(T[t]=[]),T[t]&&!de(T[t])&&(T[t]=[T[t]]),de(T[t])?T[t].push(r):T[t]=r}else T[f.elementsKey]||(T[f.elementsKey]=[]),r={},r[f.typeKey]="element",r[f.nameKey]=t,!f.ignoreAttributes&&e&&Object.keys(e).length&&(r[f.attributesKey]=e),f.alwaysChildren&&(r[f.elementsKey]=[]),T[f.elementsKey].push(r);r[f.parentKey]=T,T=r}function Br(t){f.ignoreText||!t.trim()&&!f.captureSpacesBetweenElements||(f.trim&&(t=t.trim()),f.nativeType&&(t=kr(t)),f.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),ve("text",t))}function Mr(t){f.ignoreComment||(f.trim&&(t=t.trim()),ve("comment",t))}function Kr(t){var e=T[f.parentKey];f.addParent||delete T[f.parentKey],T=e}function rs(t){f.ignoreCdata||(f.trim&&(t=t.trim()),ve("cdata",t))}function ns(t){f.ignoreDoctype||(t=t.replace(/^ /,""),f.trim&&(t=t.trim()),ve("doctype",t))}function Lr(t){t.note=t}Vr.exports=function(t,e){var r=Tt?zi.parser(!0,{}):r=new Zi.Parser("UTF-8"),i={};if(T=i,f=es(e),Tt?(r.opt={strictEntities:!0},r.onopentag=qr,r.ontext=Br,r.oncomment=Mr,r.onclosetag=Kr,r.onerror=Lr,r.oncdata=rs,r.ondoctype=ns,r.onprocessinginstruction=ts):(r.on("startElement",qr),r.on("text",Br),r.on("comment",Mr),r.on("endElement",Kr),r.on("error",Lr)),Tt)r.write(t).close();else if(!r.parse(t))throw new Error("XML parsing error: "+r.getError());if(i[f.elementsKey]){var a=i[f.elementsKey];delete i[f.elementsKey],i[f.elementsKey]=a,delete i.text}return i}});var Yr=x((va,$r)=>{var Gr=Ke(),is=_t();function ss(t){var e=Gr.copyOptions(t);return Gr.ensureSpacesExists(e),e}$r.exports=function(t,e){var r,i,a,u;return r=ss(e),i=is(t,r),u="compact"in r&&r.compact?"_parent":"parent","addParent"in r&&r.addParent?a=JSON.stringify(i,function(c,h){return c===u?"_":h},r.spaces):a=JSON.stringify(i,null,r.spaces),a.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}});var wt=x((wa,tn)=>{var w=Ke(),as=Me().isArray,P,R;function os(t){var e=w.copyOptions(t);return w.ensureFlagExists("ignoreDeclaration",e),w.ensureFlagExists("ignoreInstruction",e),w.ensureFlagExists("ignoreAttributes",e),w.ensureFlagExists("ignoreText",e),w.ensureFlagExists("ignoreComment",e),w.ensureFlagExists("ignoreCdata",e),w.ensureFlagExists("ignoreDoctype",e),w.ensureFlagExists("compact",e),w.ensureFlagExists("indentText",e),w.ensureFlagExists("indentCdata",e),w.ensureFlagExists("indentAttributes",e),w.ensureFlagExists("indentInstruction",e),w.ensureFlagExists("fullTagEmptyElement",e),w.ensureFlagExists("noQuotesForNativeAttributes",e),w.ensureSpacesExists(e),typeof e.spaces=="number"&&(e.spaces=Array(e.spaces+1).join(" ")),w.ensureKeyExists("declaration",e),w.ensureKeyExists("instruction",e),w.ensureKeyExists("attributes",e),w.ensureKeyExists("text",e),w.ensureKeyExists("comment",e),w.ensureKeyExists("cdata",e),w.ensureKeyExists("doctype",e),w.ensureKeyExists("type",e),w.ensureKeyExists("name",e),w.ensureKeyExists("elements",e),w.checkFnExists("doctype",e),w.checkFnExists("instruction",e),w.checkFnExists("cdata",e),w.checkFnExists("comment",e),w.checkFnExists("text",e),w.checkFnExists("instructionName",e),w.checkFnExists("elementName",e),w.checkFnExists("attributeName",e),w.checkFnExists("attributeValue",e),w.checkFnExists("attributes",e),w.checkFnExists("fullTagEmptyElement",e),e}function W(t,e,r){return(!r&&t.spaces?`
`:"")+Array(e+1).join(t.spaces)}function Le(t,e,r){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,R,P));var i,a,u,c,h=[];for(i in t)t.hasOwnProperty(i)&&t[i]!==null&&t[i]!==void 0&&(c=e.noQuotesForNativeAttributes&&typeof t[i]!="string"?"":'"',a=""+t[i],a=a.replace(/"/g,"&quot;"),u="attributeNameFn"in e?e.attributeNameFn(i,a,R,P):i,h.push(e.spaces&&e.indentAttributes?W(e,r+1,!1):" "),h.push(u+"="+c+("attributeValueFn"in e?e.attributeValueFn(a,i,R,P):a)+c));return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&h.push(W(e,r,!1)),h.join("")}function Xr(t,e,r){return P=t,R="xml",e.ignoreDeclaration?"":"<?xml"+Le(t[e.attributesKey],e,r)+"?>"}function Hr(t,e,r){if(e.ignoreInstruction)return"";var i;for(i in t)if(t.hasOwnProperty(i))break;var a="instructionNameFn"in e?e.instructionNameFn(i,t[i],R,P):i;if(typeof t[i]=="object")return P=t,R=a,"<?"+a+Le(t[i][e.attributesKey],e,r)+"?>";var u=t[i]?t[i]:"";return"instructionFn"in e&&(u=e.instructionFn(u,i,R,P)),"<?"+a+(u?" "+u:"")+"?>"}function Wr(t,e){return e.ignoreComment?"":"<!--"+("commentFn"in e?e.commentFn(t,R,P):t)+"-->"}function Qr(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,R,P):t.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function Jr(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,R,P):t)+">"}function vt(t,e){return e.ignoreText?"":(t=""+t,t=t.replace(/&amp;/g,"&"),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,R,P):t)}function us(t,e){var r;if(t.elements&&t.elements.length)for(r=0;r<t.elements.length;++r)switch(t.elements[r][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function cs(t,e,r){P=t,R=t.name;var i=[],a="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;i.push("<"+a),t[e.attributesKey]&&i.push(Le(t[e.attributesKey],e,r));var u=t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&t[e.attributesKey]["xml:space"]==="preserve";return u||("fullTagEmptyElementFn"in e?u=e.fullTagEmptyElementFn(t.name,t):u=e.fullTagEmptyElement),u?(i.push(">"),t[e.elementsKey]&&t[e.elementsKey].length&&(i.push(zr(t[e.elementsKey],e,r+1)),P=t,R=t.name),i.push(e.spaces&&us(t,e)?`
`+Array(r+1).join(e.spaces):""),i.push("</"+a+">")):i.push("/>"),i.join("")}function zr(t,e,r,i){return t.reduce(function(a,u){var c=W(e,r,i&&!a);switch(u.type){case"element":return a+c+cs(u,e,r);case"comment":return a+c+Wr(u[e.commentKey],e);case"doctype":return a+c+Jr(u[e.doctypeKey],e);case"cdata":return a+(e.indentCdata?c:"")+Qr(u[e.cdataKey],e);case"text":return a+(e.indentText?c:"")+vt(u[e.textKey],e);case"instruction":var h={};return h[u[e.nameKey]]=u[e.attributesKey]?u:u[e.instructionKey],a+(e.indentInstruction?c:"")+Hr(h,e,r)}},"")}function Zr(t,e,r){var i;for(i in t)if(t.hasOwnProperty(i))switch(i){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||r)return!0;break;case e.cdataKey:if(e.indentCdata||r)return!0;break;case e.instructionKey:if(e.indentInstruction||r)return!0;break;case e.doctypeKey:case e.commentKey:return!0;default:return!0}return!1}function ls(t,e,r,i,a){P=t,R=e;var u="elementNameFn"in r?r.elementNameFn(e,t):e;if(typeof t>"u"||t===null||t==="")return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(e,t)||r.fullTagEmptyElement?"<"+u+"></"+u+">":"<"+u+"/>";var c=[];if(e){if(c.push("<"+u),typeof t!="object")return c.push(">"+vt(t,r)+"</"+u+">"),c.join("");t[r.attributesKey]&&c.push(Le(t[r.attributesKey],r,i));var h=Zr(t,r,!0)||t[r.attributesKey]&&t[r.attributesKey]["xml:space"]==="preserve";if(h||("fullTagEmptyElementFn"in r?h=r.fullTagEmptyElementFn(e,t):h=r.fullTagEmptyElement),h)c.push(">");else return c.push("/>"),c.join("")}return c.push(en(t,r,i+1,!1)),P=t,R=e,e&&c.push((a?W(r,i,!1):"")+"</"+u+">"),c.join("")}function en(t,e,r,i){var a,u,c,h=[];for(u in t)if(t.hasOwnProperty(u))for(c=as(t[u])?t[u]:[t[u]],a=0;a<c.length;++a){switch(u){case e.declarationKey:h.push(Xr(c[a],e,r));break;case e.instructionKey:h.push((e.indentInstruction?W(e,r,i):"")+Hr(c[a],e,r));break;case e.attributesKey:case e.parentKey:break;case e.textKey:h.push((e.indentText?W(e,r,i):"")+vt(c[a],e));break;case e.cdataKey:h.push((e.indentCdata?W(e,r,i):"")+Qr(c[a],e));break;case e.doctypeKey:h.push(W(e,r,i)+Jr(c[a],e));break;case e.commentKey:h.push(W(e,r,i)+Wr(c[a],e));break;default:h.push(W(e,r,i)+ls(c[a],u,e,r,Zr(c[a],e)))}i=i&&!h.length}return h.join("")}tn.exports=function(t,e){e=os(e);var r=[];return P=t,R="_root_",e.compact?r.push(en(t,e,0,!0)):(t[e.declarationKey]&&r.push(Xr(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&r.push(zr(t[e.elementsKey],e,0,!r.length))),r.join("")}});var nn=x((ba,rn)=>{var fs=wt();rn.exports=function(t,e){t instanceof Buffer&&(t=t.toString());var r=null;if(typeof t=="string")try{r=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else r=t;return fs(r,e)}});var an=x((Aa,sn)=>{var ds=_t(),hs=Yr(),ms=wt(),ps=nn();sn.exports={xml2js:ds,xml2json:hs,js2xml:ms,json2xml:ps}});var be=Ee(dt());var Ve=require("fs"),cn=require("util");var on=Ee(an());var we=class{constructor(e,r){this.total=e,this.folders=r}get(e,r){var i;return(i=this.folders.get(e))==null?void 0:i.get(r)}};var ke=class{constructor(e){this.name=e,this.files=[]}push(...e){return this.files.push(...e),this}get(e){let r=this.files.findIndex(i=>i.name===e);return r===-1?null:this.files[r]}};var $=class{total;covered;percentual;constructor(e,r){this.total=Number(e),this.covered=Number(r),this.percentual=this.total==0?1:parseFloat((this.covered/this.total).toFixed(4))}};var bt=t=>t?Array.isArray(t)?t:[t]:[],gs=t=>{let e=t.replace(/=\s*"([^"]*?)"/g,(r,i)=>`="${i.replace(/"/g,"&quot;")}"`);return e=e.replace(/\s+="([^"]*?)"/g,' fixed="$1"'),e},un=t=>{try{let e=gs(t),{coverage:{project:{metrics:{_attributes:r},file:i,package:a}}}=JSON.parse((0,on.xml2json)(e,{compact:!0})),u=bt(a).reduce((c,h)=>[...c,...bt(h.file)],bt(i));return new we({lines:new $(r.statements,r.coveredstatements),methods:new $(r.methods,r.coveredmethods),branches:new $(r.conditionals,r.coveredconditionals)},u.map(c=>(c._attributes.name=c._attributes.path||c._attributes.name,c)).sort((c,h)=>c._attributes.name<h._attributes.name?-1:1).map(c=>({...c,folder:c._attributes.name.split("/").slice(0,-1).join("/")})).reduce((c,{folder:h,_attributes:{name:p},metrics:{_attributes:m}})=>c.set(h,(c.get(h)||new ke(h)).push({name:p.split("/").pop(),metrics:{lines:new $(m.statements,m.coveredstatements),methods:new $(m.methods,m.coveredmethods),branches:new $(m.conditionals,m.coveredconditionals)}})),new Map))}catch(e){return console.error("Error parsing XML file:",e.message),new we({lines:new $(0,0),methods:new $(0,0),branches:new $(0,0)},new Map)}};var je=class{constructor(e){if(!(0,Ve.existsSync)(e.file))throw`file "${e.file}" not found`;console.log(e),this.file=e.file,this.files=e.files.split(",").map(r=>e.workflowPath+r.replace(e.repoPath,""))}async run(){let e=un((await(0,cn.promisify)(Ve.readFile)(this.file)).toString());console.log(e),this.checkThreshold(e)}checkThreshold(e){console.log(e.total.lines.percentual*100),console.log(e.total.methods.percentual*100),console.log(this.files),this.files.forEach(r=>{let i=r.lastIndexOf("/"),a=e.get(r.substring(0,i),r.substring(i+1));console.log(a)})}};var Es={file:(0,be.getInput)("file"),files:(0,be.getInput)("files")??"",workflowPath:(0,be.getInput)("workflow-path")??"/",repoPath:(0,be.getInput)("repo-path")??"/"},ys=new je(Es);ys.run();
/*! Bundled license information:

sax/lib/sax.js:
  (*! http://mths.be/fromcodepoint v0.1.0 by @mathias *)
*/
//# sourceMappingURL=index.js.map
