var yn=Object.create;var Ae=Object.defineProperty;var Tn=Object.getOwnPropertyDescriptor;var _n=Object.getOwnPropertyNames;var vn=Object.getPrototypeOf,wn=Object.prototype.hasOwnProperty;var q=(e,t)=>()=>(e&&(t=e(e=0)),t);var x=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),bn=(e,t)=>{for(var r in t)Ae(e,r,{get:t[r],enumerable:!0})},Dt=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of _n(t))!wn.call(e,a)&&a!==r&&Ae(e,a,{get:()=>t[a],enumerable:!(i=Tn(t,a))||i.enumerable});return e};var Ee=(e,t,r)=>(r=e!=null?yn(vn(e)):{},Dt(t||!e||!e.__esModule?Ae(r,"default",{value:e,enumerable:!0}):r,e)),An=e=>Dt(Ae({},"__esModule",{value:!0}),e);var Ne=x(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.toCommandProperties=oe.toCommandValue=void 0;function Nn(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}oe.toCommandValue=Nn;function On(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}oe.toCommandProperties=On});var Ut=x(k=>{"use strict";var xn=k&&k.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),Fn=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Sn=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&xn(t,e,r);return Fn(t,e),t};Object.defineProperty(k,"__esModule",{value:!0});k.issue=k.issueCommand=void 0;var In=Sn(require("os")),Rt=Ne();function Pt(e,t,r){let i=new He(e,t,r);process.stdout.write(i.toString()+In.EOL)}k.issueCommand=Pt;function Dn(e,t=""){Pt(e,{},t)}k.issue=Dn;var Ct="::",He=class{constructor(t,r,i){t||(t="missing.command"),this.command=t,this.properties=r,this.message=i}toString(){let t=Ct+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let i in this.properties)if(this.properties.hasOwnProperty(i)){let a=this.properties[i];a&&(r?r=!1:t+=",",t+=`${i}=${Rn(a)}`)}}return t+=`${Ct}${Cn(this.message)}`,t}};function Cn(e){return Rt.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Rn(e){return Rt.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function ye(){return Oe>xe.length-16&&(qt.default.randomFillSync(xe),Oe=0),xe.slice(Oe,Oe+=16)}var qt,xe,Oe,We=q(()=>{qt=Ee(require("crypto")),xe=new Uint8Array(256),Oe=xe.length});var Bt,Mt=q(()=>{Bt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Pn(e){return typeof e=="string"&&Bt.test(e)}var Z,Te=q(()=>{Mt();Z=Pn});function Un(e,t=0){let r=(C[e[t+0]]+C[e[t+1]]+C[e[t+2]]+C[e[t+3]]+"-"+C[e[t+4]]+C[e[t+5]]+"-"+C[e[t+6]]+C[e[t+7]]+"-"+C[e[t+8]]+C[e[t+9]]+"-"+C[e[t+10]]+C[e[t+11]]+C[e[t+12]]+C[e[t+13]]+C[e[t+14]]+C[e[t+15]]).toLowerCase();if(!Z(r))throw TypeError("Stringified UUID is invalid");return r}var C,ee,_e=q(()=>{Te();C=[];for(let e=0;e<256;++e)C.push((e+256).toString(16).substr(1));ee=Un});function qn(e,t,r){let i=t&&r||0,a=t||new Array(16);e=e||{};let u=e.node||Kt,c=e.clockseq!==void 0?e.clockseq:Qe;if(u==null||c==null){let _=e.random||(e.rng||ye)();u==null&&(u=Kt=[_[0]|1,_[1],_[2],_[3],_[4],_[5]]),c==null&&(c=Qe=(_[6]<<8|_[7])&16383)}let h=e.msecs!==void 0?e.msecs:Date.now(),p=e.nsecs!==void 0?e.nsecs:ze+1,m=h-Je+(p-ze)/1e4;if(m<0&&e.clockseq===void 0&&(c=c+1&16383),(m<0||h>Je)&&e.nsecs===void 0&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Je=h,ze=p,Qe=c,h+=122192928e5;let g=((h&268435455)*1e4+p)%4294967296;a[i++]=g>>>24&255,a[i++]=g>>>16&255,a[i++]=g>>>8&255,a[i++]=g&255;let y=h/4294967296*1e4&268435455;a[i++]=y>>>8&255,a[i++]=y&255,a[i++]=y>>>24&15|16,a[i++]=y>>>16&255,a[i++]=c>>>8|128,a[i++]=c&255;for(let _=0;_<6;++_)a[i+_]=u[_];return t||ee(a)}var Kt,Qe,Je,ze,Lt,jt=q(()=>{We();_e();Je=0,ze=0;Lt=qn});function Bn(e){if(!Z(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Fe,Ze=q(()=>{Te();Fe=Bn});function Mn(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Se(e,t,r){function i(a,u,c,h){if(typeof a=="string"&&(a=Mn(a)),typeof u=="string"&&(u=Fe(u)),u.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let p=new Uint8Array(16+a.length);if(p.set(u),p.set(a,u.length),p=r(p),p[6]=p[6]&15|t,p[8]=p[8]&63|128,c){h=h||0;for(let m=0;m<16;++m)c[h+m]=p[m];return c}return ee(p)}try{i.name=e}catch{}return i.DNS=Kn,i.URL=Ln,i}var Kn,Ln,et=q(()=>{_e();Ze();Kn="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Ln="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function jn(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),kt.default.createHash("md5").update(e).digest()}var kt,Vt,Gt=q(()=>{kt=Ee(require("crypto"));Vt=jn});var kn,$t,Yt=q(()=>{et();Gt();kn=Se("v3",48,Vt),$t=kn});function Vn(e,t,r){e=e||{};let i=e.random||(e.rng||ye)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){r=r||0;for(let a=0;a<16;++a)t[r+a]=i[a];return t}return ee(i)}var Xt,Ht=q(()=>{We();_e();Xt=Vn});function Gn(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Wt.default.createHash("sha1").update(e).digest()}var Wt,Qt,Jt=q(()=>{Wt=Ee(require("crypto"));Qt=Gn});var $n,zt,Zt=q(()=>{et();Jt();$n=Se("v5",80,Qt),zt=$n});var er,tr=q(()=>{er="00000000-0000-0000-0000-000000000000"});function Yn(e){if(!Z(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var rr,nr=q(()=>{Te();rr=Yn});var ir={};bn(ir,{NIL:()=>er,parse:()=>Fe,stringify:()=>ee,v1:()=>Lt,v3:()=>$t,v4:()=>Xt,v5:()=>zt,validate:()=>Z,version:()=>rr});var sr=q(()=>{jt();Yt();Ht();Zt();tr();nr();Te();_e();Ze()});var cr=x(V=>{"use strict";var Xn=V&&V.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),Hn=V&&V.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),or=V&&V.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Xn(t,e,r);return Hn(t,e),t};Object.defineProperty(V,"__esModule",{value:!0});V.prepareKeyValueMessage=V.issueFileCommand=void 0;var ar=or(require("fs")),tt=or(require("os")),Wn=(sr(),An(ir)),ur=Ne();function Qn(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!ar.existsSync(r))throw new Error(`Missing file at path: ${r}`);ar.appendFileSync(r,`${ur.toCommandValue(t)}${tt.EOL}`,{encoding:"utf8"})}V.issueFileCommand=Qn;function Jn(e,t){let r=`ghadelimiter_${Wn.v4()}`,i=ur.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(i.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${tt.EOL}${i}${tt.EOL}${r}`}V.prepareKeyValueMessage=Jn});var fr=x(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.checkBypass=ue.getProxyUrl=void 0;function zn(e){let t=e.protocol==="https:";if(lr(e))return;let r=t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY;if(r)return new URL(r)}ue.getProxyUrl=zn;function lr(e){if(!e.hostname)return!1;let t=process.env.no_proxy||process.env.NO_PROXY||"";if(!t)return!1;let r;e.port?r=Number(e.port):e.protocol==="http:"?r=80:e.protocol==="https:"&&(r=443);let i=[e.hostname.toUpperCase()];typeof r=="number"&&i.push(`${i[0]}:${r}`);for(let a of t.split(",").map(u=>u.trim().toUpperCase()).filter(u=>u))if(i.some(u=>u===a))return!0;return!1}ue.checkBypass=lr});var pr=x(ce=>{"use strict";var ua=require("net"),Zn=require("tls"),rt=require("http"),dr=require("https"),ei=require("events"),ca=require("assert"),ti=require("util");ce.httpOverHttp=ri;ce.httpsOverHttp=ni;ce.httpOverHttps=ii;ce.httpsOverHttps=si;function ri(e){var t=new z(e);return t.request=rt.request,t}function ni(e){var t=new z(e);return t.request=rt.request,t.createSocket=hr,t.defaultPort=443,t}function ii(e){var t=new z(e);return t.request=dr.request,t}function si(e){var t=new z(e);return t.request=dr.request,t.createSocket=hr,t.defaultPort=443,t}function z(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||rt.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(i,a,u,c){for(var h=mr(a,u,c),p=0,m=t.requests.length;p<m;++p){var g=t.requests[p];if(g.host===h.host&&g.port===h.port){t.requests.splice(p,1),g.request.onSocket(i);return}}i.destroy(),t.removeSocket(i)})}ti.inherits(z,ei.EventEmitter);z.prototype.addRequest=function(t,r,i,a){var u=this,c=nt({request:t},u.options,mr(r,i,a));if(u.sockets.length>=this.maxSockets){u.requests.push(c);return}u.createSocket(c,function(h){h.on("free",p),h.on("close",m),h.on("agentRemove",m),t.onSocket(h);function p(){u.emit("free",h,c)}function m(g){u.removeSocket(h),h.removeListener("free",p),h.removeListener("close",m),h.removeListener("agentRemove",m)}})};z.prototype.createSocket=function(t,r){var i=this,a={};i.sockets.push(a);var u=nt({},i.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(u.localAddress=t.localAddress),u.proxyAuth&&(u.headers=u.headers||{},u.headers["Proxy-Authorization"]="Basic "+new Buffer(u.proxyAuth).toString("base64")),te("making CONNECT request");var c=i.request(u);c.useChunkedEncodingByDefault=!1,c.once("response",h),c.once("upgrade",p),c.once("connect",m),c.once("error",g),c.end();function h(y){y.upgrade=!0}function p(y,_,X){process.nextTick(function(){m(y,_,X)})}function m(y,_,X){if(c.removeAllListeners(),_.removeAllListeners(),y.statusCode!==200){te("tunneling socket could not be established, statusCode=%d",y.statusCode),_.destroy();var ne=new Error("tunneling socket could not be established, statusCode="+y.statusCode);ne.code="ECONNRESET",t.request.emit("error",ne),i.removeSocket(a);return}if(X.length>0){te("got illegal response body from proxy"),_.destroy();var ne=new Error("got illegal response body from proxy");ne.code="ECONNRESET",t.request.emit("error",ne),i.removeSocket(a);return}return te("tunneling connection has established"),i.sockets[i.sockets.indexOf(a)]=_,r(_)}function g(y){c.removeAllListeners(),te(`tunneling socket could not be established, cause=%s
`,y.message,y.stack);var _=new Error("tunneling socket could not be established, cause="+y.message);_.code="ECONNRESET",t.request.emit("error",_),i.removeSocket(a)}};z.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var i=this.requests.shift();i&&this.createSocket(i,function(a){i.request.onSocket(a)})}};function hr(e,t){var r=this;z.prototype.createSocket.call(r,e,function(i){var a=e.request.getHeader("host"),u=nt({},r.options,{socket:i,servername:a?a.replace(/:.*$/,""):e.host}),c=Zn.connect(0,u);r.sockets[r.sockets.indexOf(i)]=c,t(c)})}function mr(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function nt(e){for(var t=1,r=arguments.length;t<r;++t){var i=arguments[t];if(typeof i=="object")for(var a=Object.keys(i),u=0,c=a.length;u<c;++u){var h=a[u];i[h]!==void 0&&(e[h]=i[h])}}return e}var te;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?te=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:te=function(){};ce.debug=te});var Er=x((fa,gr)=>{gr.exports=pr()});var Tr=x(A=>{"use strict";var ai=A&&A.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),oi=A&&A.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ue=A&&A.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&ai(t,e,r);return oi(t,e),t},I=A&&A.__awaiter||function(e,t,r,i){function a(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function h(g){try{m(i.next(g))}catch(y){c(y)}}function p(g){try{m(i.throw(g))}catch(y){c(y)}}function m(g){g.done?u(g.value):a(g.value).then(h,p)}m((i=i.apply(e,t||[])).next())})};Object.defineProperty(A,"__esModule",{value:!0});A.HttpClient=A.isHttps=A.HttpClientResponse=A.HttpClientError=A.getProxyUrl=A.MediaTypes=A.Headers=A.HttpCodes=void 0;var Ie=Ue(require("http")),it=Ue(require("https")),yr=Ue(fr()),De=Ue(Er()),Y;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(Y=A.HttpCodes||(A.HttpCodes={}));var B;(function(e){e.Accept="accept",e.ContentType="content-type"})(B=A.Headers||(A.Headers={}));var re;(function(e){e.ApplicationJson="application/json"})(re=A.MediaTypes||(A.MediaTypes={}));function ui(e){let t=yr.getProxyUrl(new URL(e));return t?t.href:""}A.getProxyUrl=ui;var ci=[Y.MovedPermanently,Y.ResourceMoved,Y.SeeOther,Y.TemporaryRedirect,Y.PermanentRedirect],li=[Y.BadGateway,Y.ServiceUnavailable,Y.GatewayTimeout],fi=["OPTIONS","GET","DELETE","HEAD"],di=10,hi=5,Re=class e extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,e.prototype)}};A.HttpClientError=Re;var Pe=class{constructor(t){this.message=t}readBody(){return I(this,void 0,void 0,function*(){return new Promise(t=>I(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",i=>{r=Buffer.concat([r,i])}),this.message.on("end",()=>{t(r.toString())})}))})}};A.HttpClientResponse=Pe;function mi(e){return new URL(e).protocol==="https:"}A.isHttps=mi;var st=class{constructor(t,r,i){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=i,i&&(i.ignoreSslError!=null&&(this._ignoreSslError=i.ignoreSslError),this._socketTimeout=i.socketTimeout,i.allowRedirects!=null&&(this._allowRedirects=i.allowRedirects),i.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=i.allowRedirectDowngrade),i.maxRedirects!=null&&(this._maxRedirects=Math.max(i.maxRedirects,0)),i.keepAlive!=null&&(this._keepAlive=i.keepAlive),i.allowRetries!=null&&(this._allowRetries=i.allowRetries),i.maxRetries!=null&&(this._maxRetries=i.maxRetries))}options(t,r){return I(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return I(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return I(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,i){return I(this,void 0,void 0,function*(){return this.request("POST",t,r,i||{})})}patch(t,r,i){return I(this,void 0,void 0,function*(){return this.request("PATCH",t,r,i||{})})}put(t,r,i){return I(this,void 0,void 0,function*(){return this.request("PUT",t,r,i||{})})}head(t,r){return I(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,i,a){return I(this,void 0,void 0,function*(){return this.request(t,r,i,a)})}getJson(t,r={}){return I(this,void 0,void 0,function*(){r[B.Accept]=this._getExistingOrDefaultHeader(r,B.Accept,re.ApplicationJson);let i=yield this.get(t,r);return this._processResponse(i,this.requestOptions)})}postJson(t,r,i={}){return I(this,void 0,void 0,function*(){let a=JSON.stringify(r,null,2);i[B.Accept]=this._getExistingOrDefaultHeader(i,B.Accept,re.ApplicationJson),i[B.ContentType]=this._getExistingOrDefaultHeader(i,B.ContentType,re.ApplicationJson);let u=yield this.post(t,a,i);return this._processResponse(u,this.requestOptions)})}putJson(t,r,i={}){return I(this,void 0,void 0,function*(){let a=JSON.stringify(r,null,2);i[B.Accept]=this._getExistingOrDefaultHeader(i,B.Accept,re.ApplicationJson),i[B.ContentType]=this._getExistingOrDefaultHeader(i,B.ContentType,re.ApplicationJson);let u=yield this.put(t,a,i);return this._processResponse(u,this.requestOptions)})}patchJson(t,r,i={}){return I(this,void 0,void 0,function*(){let a=JSON.stringify(r,null,2);i[B.Accept]=this._getExistingOrDefaultHeader(i,B.Accept,re.ApplicationJson),i[B.ContentType]=this._getExistingOrDefaultHeader(i,B.ContentType,re.ApplicationJson);let u=yield this.patch(t,a,i);return this._processResponse(u,this.requestOptions)})}request(t,r,i,a){return I(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let u=new URL(r),c=this._prepareRequest(t,u,a),h=this._allowRetries&&fi.includes(t)?this._maxRetries+1:1,p=0,m;do{if(m=yield this.requestRaw(c,i),m&&m.message&&m.message.statusCode===Y.Unauthorized){let y;for(let _ of this.handlers)if(_.canHandleAuthentication(m)){y=_;break}return y?y.handleAuthentication(this,c,i):m}let g=this._maxRedirects;for(;m.message.statusCode&&ci.includes(m.message.statusCode)&&this._allowRedirects&&g>0;){let y=m.message.headers.location;if(!y)break;let _=new URL(y);if(u.protocol==="https:"&&u.protocol!==_.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield m.readBody(),_.hostname!==u.hostname)for(let X in a)X.toLowerCase()==="authorization"&&delete a[X];c=this._prepareRequest(t,_,a),m=yield this.requestRaw(c,i),g--}if(!m.message.statusCode||!li.includes(m.message.statusCode))return m;p+=1,p<h&&(yield m.readBody(),yield this._performExponentialBackoff(p))}while(p<h);return m})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return I(this,void 0,void 0,function*(){return new Promise((i,a)=>{function u(c,h){c?a(c):h?i(h):a(new Error("Unknown error"))}this.requestRawWithCallback(t,r,u)})})}requestRawWithCallback(t,r,i){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let a=!1;function u(p,m){a||(a=!0,i(p,m))}let c=t.httpModule.request(t.options,p=>{let m=new Pe(p);u(void 0,m)}),h;c.on("socket",p=>{h=p}),c.setTimeout(this._socketTimeout||3*6e4,()=>{h&&h.end(),u(new Error(`Request timeout: ${t.options.path}`))}),c.on("error",function(p){u(p)}),r&&typeof r=="string"&&c.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){c.end()}),r.pipe(c)):c.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,i){let a={};a.parsedUrl=r;let u=a.parsedUrl.protocol==="https:";a.httpModule=u?it:Ie;let c=u?443:80;if(a.options={},a.options.host=a.parsedUrl.hostname,a.options.port=a.parsedUrl.port?parseInt(a.parsedUrl.port):c,a.options.path=(a.parsedUrl.pathname||"")+(a.parsedUrl.search||""),a.options.method=t,a.options.headers=this._mergeHeaders(i),this.userAgent!=null&&(a.options.headers["user-agent"]=this.userAgent),a.options.agent=this._getAgent(a.parsedUrl),this.handlers)for(let h of this.handlers)h.prepareRequest(a.options);return a}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Ce(this.requestOptions.headers),Ce(t||{})):Ce(t||{})}_getExistingOrDefaultHeader(t,r,i){let a;return this.requestOptions&&this.requestOptions.headers&&(a=Ce(this.requestOptions.headers)[r]),t[r]||a||i}_getAgent(t){let r,i=yr.getProxyUrl(t),a=i&&i.hostname;if(this._keepAlive&&a&&(r=this._proxyAgent),this._keepAlive&&!a&&(r=this._agent),r)return r;let u=t.protocol==="https:",c=100;if(this.requestOptions&&(c=this.requestOptions.maxSockets||Ie.globalAgent.maxSockets),i&&i.hostname){let h={maxSockets:c,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(i.username||i.password)&&{proxyAuth:`${i.username}:${i.password}`}),{host:i.hostname,port:i.port})},p,m=i.protocol==="https:";u?p=m?De.httpsOverHttps:De.httpsOverHttp:p=m?De.httpOverHttps:De.httpOverHttp,r=p(h),this._proxyAgent=r}if(this._keepAlive&&!r){let h={keepAlive:this._keepAlive,maxSockets:c};r=u?new it.Agent(h):new Ie.Agent(h),this._agent=r}return r||(r=u?it.globalAgent:Ie.globalAgent),u&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return I(this,void 0,void 0,function*(){t=Math.min(di,t);let r=hi*Math.pow(2,t);return new Promise(i=>setTimeout(()=>i(),r))})}_processResponse(t,r){return I(this,void 0,void 0,function*(){return new Promise((i,a)=>I(this,void 0,void 0,function*(){let u=t.message.statusCode||0,c={statusCode:u,result:null,headers:{}};u===Y.NotFound&&i(c);function h(g,y){if(typeof y=="string"){let _=new Date(y);if(!isNaN(_.valueOf()))return _}return y}let p,m;try{m=yield t.readBody(),m&&m.length>0&&(r&&r.deserializeDates?p=JSON.parse(m,h):p=JSON.parse(m),c.result=p),c.headers=t.message.headers}catch{}if(u>299){let g;p&&p.message?g=p.message:m&&m.length>0?g=m:g=`Failed request: (${u})`;let y=new Re(g,u);y.result=c.result,a(y)}else i(c)}))})}};A.HttpClient=st;var Ce=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var _r=x(H=>{"use strict";var ct=H&&H.__awaiter||function(e,t,r,i){function a(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function h(g){try{m(i.next(g))}catch(y){c(y)}}function p(g){try{m(i.throw(g))}catch(y){c(y)}}function m(g){g.done?u(g.value):a(g.value).then(h,p)}m((i=i.apply(e,t||[])).next())})};Object.defineProperty(H,"__esModule",{value:!0});H.PersonalAccessTokenCredentialHandler=H.BearerCredentialHandler=H.BasicCredentialHandler=void 0;var at=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return ct(this,void 0,void 0,function*(){throw new Error("not implemented")})}};H.BasicCredentialHandler=at;var ot=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return ct(this,void 0,void 0,function*(){throw new Error("not implemented")})}};H.BearerCredentialHandler=ot;var ut=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return ct(this,void 0,void 0,function*(){throw new Error("not implemented")})}};H.PersonalAccessTokenCredentialHandler=ut});var br=x(le=>{"use strict";var vr=le&&le.__awaiter||function(e,t,r,i){function a(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function h(g){try{m(i.next(g))}catch(y){c(y)}}function p(g){try{m(i.throw(g))}catch(y){c(y)}}function m(g){g.done?u(g.value):a(g.value).then(h,p)}m((i=i.apply(e,t||[])).next())})};Object.defineProperty(le,"__esModule",{value:!0});le.OidcClient=void 0;var pi=Tr(),gi=_r(),wr=ft(),lt=class e{static createHttpClient(t=!0,r=10){let i={allowRetries:t,maxRetries:r};return new pi.HttpClient("actions/oidc-client",[new gi.BearerCredentialHandler(e.getRequestToken())],i)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return vr(this,void 0,void 0,function*(){let u=(r=(yield e.createHttpClient().getJson(t).catch(c=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${c.statusCode}
 
        Error Message: ${c.message}`)})).result)===null||r===void 0?void 0:r.value;if(!u)throw new Error("Response json body do not have ID Token field");return u})}static getIDToken(t){return vr(this,void 0,void 0,function*(){try{let r=e.getIDTokenUrl();if(t){let a=encodeURIComponent(t);r=`${r}&audience=${a}`}wr.debug(`ID token url is ${r}`);let i=yield e.getCall(r);return wr.setSecret(i),i}catch(r){throw new Error(`Error message: ${r.message}`)}})}};le.OidcClient=lt});var pt=x(L=>{"use strict";var dt=L&&L.__awaiter||function(e,t,r,i){function a(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function h(g){try{m(i.next(g))}catch(y){c(y)}}function p(g){try{m(i.throw(g))}catch(y){c(y)}}function m(g){g.done?u(g.value):a(g.value).then(h,p)}m((i=i.apply(e,t||[])).next())})};Object.defineProperty(L,"__esModule",{value:!0});L.summary=L.markdownSummary=L.SUMMARY_DOCS_URL=L.SUMMARY_ENV_VAR=void 0;var Ei=require("os"),ht=require("fs"),{access:yi,appendFile:Ti,writeFile:_i}=ht.promises;L.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";L.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var mt=class{constructor(){this._buffer=""}filePath(){return dt(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[L.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${L.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield yi(t,ht.constants.R_OK|ht.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,i={}){let a=Object.entries(i).map(([u,c])=>` ${u}="${c}"`).join("");return r?`<${t}${a}>${r}</${t}>`:`<${t}${a}>`}write(t){return dt(this,void 0,void 0,function*(){let r=!!(t!=null&&t.overwrite),i=yield this.filePath();return yield(r?_i:Ti)(i,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return dt(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(Ei.EOL)}addCodeBlock(t,r){let i=Object.assign({},r&&{lang:r}),a=this.wrap("pre",this.wrap("code",t),i);return this.addRaw(a).addEOL()}addList(t,r=!1){let i=r?"ol":"ul",a=t.map(c=>this.wrap("li",c)).join(""),u=this.wrap(i,a);return this.addRaw(u).addEOL()}addTable(t){let r=t.map(a=>{let u=a.map(c=>{if(typeof c=="string")return this.wrap("td",c);let{header:h,data:p,colspan:m,rowspan:g}=c,y=h?"th":"td",_=Object.assign(Object.assign({},m&&{colspan:m}),g&&{rowspan:g});return this.wrap(y,p,_)}).join("");return this.wrap("tr",u)}).join(""),i=this.wrap("table",r);return this.addRaw(i).addEOL()}addDetails(t,r){let i=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(i).addEOL()}addImage(t,r,i){let{width:a,height:u}=i||{},c=Object.assign(Object.assign({},a&&{width:a}),u&&{height:u}),h=this.wrap("img",null,Object.assign({src:t,alt:r},c));return this.addRaw(h).addEOL()}addHeading(t,r){let i=`h${r}`,a=["h1","h2","h3","h4","h5","h6"].includes(i)?i:"h1",u=this.wrap(a,t);return this.addRaw(u).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let i=Object.assign({},r&&{cite:r}),a=this.wrap("blockquote",t,i);return this.addRaw(a).addEOL()}addLink(t,r){let i=this.wrap("a",t,{href:r});return this.addRaw(i).addEOL()}},Ar=new mt;L.markdownSummary=Ar;L.summary=Ar});var Nr=x(j=>{"use strict";var vi=j&&j.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),wi=j&&j.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),bi=j&&j.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&vi(t,e,r);return wi(t,e),t};Object.defineProperty(j,"__esModule",{value:!0});j.toPlatformPath=j.toWin32Path=j.toPosixPath=void 0;var Ai=bi(require("path"));function Ni(e){return e.replace(/[\\]/g,"/")}j.toPosixPath=Ni;function Oi(e){return e.replace(/[/]/g,"\\")}j.toWin32Path=Oi;function xi(e){return e.replace(/[/\\]/g,Ai.sep)}j.toPlatformPath=xi});var ft=x(E=>{"use strict";var Fi=E&&E.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),Si=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Or=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Fi(t,e,r);return Si(t,e),t},xr=E&&E.__awaiter||function(e,t,r,i){function a(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function h(g){try{m(i.next(g))}catch(y){c(y)}}function p(g){try{m(i.throw(g))}catch(y){c(y)}}function m(g){g.done?u(g.value):a(g.value).then(h,p)}m((i=i.apply(e,t||[])).next())})};Object.defineProperty(E,"__esModule",{value:!0});E.getIDToken=E.getState=E.saveState=E.group=E.endGroup=E.startGroup=E.info=E.notice=E.warning=E.error=E.debug=E.isDebug=E.setFailed=E.setCommandEcho=E.setOutput=E.getBooleanInput=E.getMultilineInput=E.getInput=E.addPath=E.setSecret=E.exportVariable=E.ExitCode=void 0;var G=Ut(),se=cr(),fe=Ne(),Fr=Or(require("os")),Ii=Or(require("path")),Di=br(),Sr;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(Sr=E.ExitCode||(E.ExitCode={}));function Ci(e,t){let r=fe.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return se.issueFileCommand("ENV",se.prepareKeyValueMessage(e,t));G.issueCommand("set-env",{name:e},r)}E.exportVariable=Ci;function Ri(e){G.issueCommand("add-mask",{},e)}E.setSecret=Ri;function Pi(e){process.env.GITHUB_PATH||""?se.issueFileCommand("PATH",e):G.issueCommand("add-path",{},e),process.env.PATH=`${e}${Ii.delimiter}${process.env.PATH}`}E.addPath=Pi;function gt(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}E.getInput=gt;function Ui(e,t){let r=gt(e,t).split(`
`).filter(i=>i!=="");return t&&t.trimWhitespace===!1?r:r.map(i=>i.trim())}E.getMultilineInput=Ui;function qi(e,t){let r=["true","True","TRUE"],i=["false","False","FALSE"],a=gt(e,t);if(r.includes(a))return!0;if(i.includes(a))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}E.getBooleanInput=qi;function Bi(e,t){if(process.env.GITHUB_OUTPUT||"")return se.issueFileCommand("OUTPUT",se.prepareKeyValueMessage(e,t));process.stdout.write(Fr.EOL),G.issueCommand("set-output",{name:e},fe.toCommandValue(t))}E.setOutput=Bi;function Mi(e){G.issue("echo",e?"on":"off")}E.setCommandEcho=Mi;function Ki(e){process.exitCode=Sr.Failure,Ir(e)}E.setFailed=Ki;function Li(){return process.env.RUNNER_DEBUG==="1"}E.isDebug=Li;function ji(e){G.issueCommand("debug",{},e)}E.debug=ji;function Ir(e,t={}){G.issueCommand("error",fe.toCommandProperties(t),e instanceof Error?e.toString():e)}E.error=Ir;function ki(e,t={}){G.issueCommand("warning",fe.toCommandProperties(t),e instanceof Error?e.toString():e)}E.warning=ki;function Vi(e,t={}){G.issueCommand("notice",fe.toCommandProperties(t),e instanceof Error?e.toString():e)}E.notice=Vi;function Gi(e){process.stdout.write(e+Fr.EOL)}E.info=Gi;function Dr(e){G.issue("group",e)}E.startGroup=Dr;function Cr(){G.issue("endgroup")}E.endGroup=Cr;function $i(e,t){return xr(this,void 0,void 0,function*(){Dr(e);let r;try{r=yield t()}finally{Cr()}return r})}E.group=$i;function Yi(e,t){if(process.env.GITHUB_STATE||"")return se.issueFileCommand("STATE",se.prepareKeyValueMessage(e,t));G.issueCommand("save-state",{name:e},fe.toCommandValue(t))}E.saveState=Yi;function Xi(e){return process.env[`STATE_${e}`]||""}E.getState=Xi;function Hi(e){return xr(this,void 0,void 0,function*(){return yield Di.OidcClient.getIDToken(e)})}E.getIDToken=Hi;var Wi=pt();Object.defineProperty(E,"summary",{enumerable:!0,get:function(){return Wi.summary}});var Qi=pt();Object.defineProperty(E,"markdownSummary",{enumerable:!0,get:function(){return Qi.markdownSummary}});var Et=Nr();Object.defineProperty(E,"toPosixPath",{enumerable:!0,get:function(){return Et.toPosixPath}});Object.defineProperty(E,"toWin32Path",{enumerable:!0,get:function(){return Et.toWin32Path}});Object.defineProperty(E,"toPlatformPath",{enumerable:!0,get:function(){return Et.toPlatformPath}})});var Rr=x(qe=>{(function(e){e.parser=function(s,n){return new r(s,n)},e.SAXParser=r,e.SAXStream=m,e.createStream=p,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(s,n){if(!(this instanceof r))return new r(s,n);var d=this;a(d),d.q=d.c="",d.bufferCheckPosition=e.MAX_BUFFER_LENGTH,d.opt=n||{},d.opt.lowercase=d.opt.lowercase||d.opt.lowercasetags,d.looseCase=d.opt.lowercase?"toLowerCase":"toUpperCase",d.tags=[],d.closed=d.closedRoot=d.sawRoot=!1,d.tag=d.error=null,d.strict=!!s,d.noscript=!!(s||d.opt.noscript),d.state=l.BEGIN,d.strictEntities=d.opt.strictEntities,d.ENTITIES=d.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),d.attribList=[],d.opt.xmlns&&(d.ns=Object.create(ne)),d.opt.unquotedAttributeValues===void 0&&(d.opt.unquotedAttributeValues=!s),d.trackPosition=d.opt.position!==!1,d.trackPosition&&(d.position=d.line=d.column=0),me(d,"onready")}Object.create||(Object.create=function(s){function n(){}n.prototype=s;var d=new n;return d}),Object.keys||(Object.keys=function(s){var n=[];for(var d in s)s.hasOwnProperty(d)&&n.push(d);return n});function i(s){for(var n=Math.max(e.MAX_BUFFER_LENGTH,10),d=0,o=0,b=t.length;o<b;o++){var F=s[t[o]].length;if(F>n)switch(t[o]){case"textNode":pe(s);break;case"cdata":O(s,"oncdata",s.cdata),s.cdata="";break;case"script":O(s,"onscript",s.script),s.script="";break;default:ge(s,"Max buffer length exceeded: "+t[o])}d=Math.max(d,F)}var S=e.MAX_BUFFER_LENGTH-d;s.bufferCheckPosition=S+s.position}function a(s){for(var n=0,d=t.length;n<d;n++)s[t[n]]=""}function u(s){pe(s),s.cdata!==""&&(O(s,"oncdata",s.cdata),s.cdata=""),s.script!==""&&(O(s,"onscript",s.script),s.script="")}r.prototype={end:function(){Ot(this)},write:gn,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){u(this)}};var c;try{c=require("stream").Stream}catch{c=function(){}}c||(c=function(){});var h=e.EVENTS.filter(function(s){return s!=="error"&&s!=="end"});function p(s,n){return new m(s,n)}function m(s,n){if(!(this instanceof m))return new m(s,n);c.apply(this),this._parser=new r(s,n),this.writable=!0,this.readable=!0;var d=this;this._parser.onend=function(){d.emit("end")},this._parser.onerror=function(o){d.emit("error",o),d._parser.error=null},this._decoder=null,h.forEach(function(o){Object.defineProperty(d,"on"+o,{get:function(){return d._parser["on"+o]},set:function(b){if(!b)return d.removeAllListeners(o),d._parser["on"+o]=b,b;d.on(o,b)},enumerable:!0,configurable:!1})})}m.prototype=Object.create(c.prototype,{constructor:{value:m}}),m.prototype.write=function(s){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(s)){if(!this._decoder){var n=require("string_decoder").StringDecoder;this._decoder=new n("utf8")}s=this._decoder.write(s)}return this._parser.write(s.toString()),this.emit("data",s),!0},m.prototype.end=function(s){return s&&s.length&&this.write(s),this._parser.end(),!0},m.prototype.on=function(s,n){var d=this;return!d._parser["on"+s]&&h.indexOf(s)!==-1&&(d._parser["on"+s]=function(){var o=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);o.splice(0,0,s),d.emit.apply(d,o)}),c.prototype.on.call(d,s,n)};var g="[CDATA[",y="DOCTYPE",_="http://www.w3.org/XML/1998/namespace",X="http://www.w3.org/2000/xmlns/",ne={xml:_,xmlns:X},he=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Ve=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,ln=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,fn=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function U(s){return s===" "||s===`
`||s==="\r"||s==="	"}function be(s){return s==='"'||s==="'"}function dn(s){return s===">"||U(s)}function Q(s,n){return s.test(n)}function hn(s,n){return!Q(s,n)}var l=0;e.STATE={BEGIN:l++,BEGIN_WHITESPACE:l++,TEXT:l++,TEXT_ENTITY:l++,OPEN_WAKA:l++,SGML_DECL:l++,SGML_DECL_QUOTED:l++,DOCTYPE:l++,DOCTYPE_QUOTED:l++,DOCTYPE_DTD:l++,DOCTYPE_DTD_QUOTED:l++,COMMENT_STARTING:l++,COMMENT:l++,COMMENT_ENDING:l++,COMMENT_ENDED:l++,CDATA:l++,CDATA_ENDING:l++,CDATA_ENDING_2:l++,PROC_INST:l++,PROC_INST_BODY:l++,PROC_INST_ENDING:l++,OPEN_TAG:l++,OPEN_TAG_SLASH:l++,ATTRIB:l++,ATTRIB_NAME:l++,ATTRIB_NAME_SAW_WHITE:l++,ATTRIB_VALUE:l++,ATTRIB_VALUE_QUOTED:l++,ATTRIB_VALUE_CLOSED:l++,ATTRIB_VALUE_UNQUOTED:l++,ATTRIB_VALUE_ENTITY_Q:l++,ATTRIB_VALUE_ENTITY_U:l++,CLOSE_TAG:l++,CLOSE_TAG_SAW_WHITE:l++,SCRIPT:l++,SCRIPT_ENDING:l++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(s){var n=e.ENTITIES[s],d=typeof n=="number"?String.fromCharCode(n):n;e.ENTITIES[s]=d});for(var At in e.STATE)e.STATE[e.STATE[At]]=At;l=e.STATE;function me(s,n,d){s[n]&&s[n](d)}function O(s,n,d){s.textNode&&pe(s),me(s,n,d)}function pe(s){s.textNode=Nt(s.opt,s.textNode),s.textNode&&me(s,"ontext",s.textNode),s.textNode=""}function Nt(s,n){return s.trim&&(n=n.trim()),s.normalize&&(n=n.replace(/\s+/g," ")),n}function ge(s,n){return pe(s),s.trackPosition&&(n+=`
Line: `+s.line+`
Column: `+s.column+`
Char: `+s.c),n=new Error(n),s.error=n,me(s,"onerror",n),s}function Ot(s){return s.sawRoot&&!s.closedRoot&&N(s,"Unclosed root tag"),s.state!==l.BEGIN&&s.state!==l.BEGIN_WHITESPACE&&s.state!==l.TEXT&&ge(s,"Unexpected end"),pe(s),s.c="",s.closed=!0,me(s,"onend"),r.call(s,s.strict,s.opt),s}function N(s,n){if(typeof s!="object"||!(s instanceof r))throw new Error("bad call to strictFail");s.strict&&ge(s,n)}function mn(s){s.strict||(s.tagName=s.tagName[s.looseCase]());var n=s.tags[s.tags.length-1]||s,d=s.tag={name:s.tagName,attributes:{}};s.opt.xmlns&&(d.ns=n.ns),s.attribList.length=0,O(s,"onopentagstart",d)}function Ge(s,n){var d=s.indexOf(":"),o=d<0?["",s]:s.split(":"),b=o[0],F=o[1];return n&&s==="xmlns"&&(b="xmlns",F=""),{prefix:b,local:F}}function $e(s){if(s.strict||(s.attribName=s.attribName[s.looseCase]()),s.attribList.indexOf(s.attribName)!==-1||s.tag.attributes.hasOwnProperty(s.attribName)){s.attribName=s.attribValue="";return}if(s.opt.xmlns){var n=Ge(s.attribName,!0),d=n.prefix,o=n.local;if(d==="xmlns")if(o==="xml"&&s.attribValue!==_)N(s,"xml: prefix must be bound to "+_+`
Actual: `+s.attribValue);else if(o==="xmlns"&&s.attribValue!==X)N(s,"xmlns: prefix must be bound to "+X+`
Actual: `+s.attribValue);else{var b=s.tag,F=s.tags[s.tags.length-1]||s;b.ns===F.ns&&(b.ns=Object.create(F.ns)),b.ns[o]=s.attribValue}s.attribList.push([s.attribName,s.attribValue])}else s.tag.attributes[s.attribName]=s.attribValue,O(s,"onattribute",{name:s.attribName,value:s.attribValue});s.attribName=s.attribValue=""}function ie(s,n){if(s.opt.xmlns){var d=s.tag,o=Ge(s.tagName);d.prefix=o.prefix,d.local=o.local,d.uri=d.ns[o.prefix]||"",d.prefix&&!d.uri&&(N(s,"Unbound namespace prefix: "+JSON.stringify(s.tagName)),d.uri=o.prefix);var b=s.tags[s.tags.length-1]||s;d.ns&&b.ns!==d.ns&&Object.keys(d.ns).forEach(function(It){O(s,"onopennamespace",{prefix:It,uri:d.ns[It]})});for(var F=0,S=s.attribList.length;F<S;F++){var M=s.attribList[F],K=M[0],ae=M[1],D=Ge(K,!0),J=D.prefix,En=D.local,St=J===""?"":d.ns[J]||"",Xe={name:K,value:ae,prefix:J,local:En,uri:St};J&&J!=="xmlns"&&!St&&(N(s,"Unbound namespace prefix: "+JSON.stringify(J)),Xe.uri=J),s.tag.attributes[K]=Xe,O(s,"onattribute",Xe)}s.attribList.length=0}s.tag.isSelfClosing=!!n,s.sawRoot=!0,s.tags.push(s.tag),O(s,"onopentag",s.tag),n||(!s.noscript&&s.tagName.toLowerCase()==="script"?s.state=l.SCRIPT:s.state=l.TEXT,s.tag=null,s.tagName=""),s.attribName=s.attribValue="",s.attribList.length=0}function Ye(s){if(!s.tagName){N(s,"Weird empty close tag."),s.textNode+="</>",s.state=l.TEXT;return}if(s.script){if(s.tagName!=="script"){s.script+="</"+s.tagName+">",s.tagName="",s.state=l.SCRIPT;return}O(s,"onscript",s.script),s.script=""}var n=s.tags.length,d=s.tagName;s.strict||(d=d[s.looseCase]());for(var o=d;n--;){var b=s.tags[n];if(b.name!==o)N(s,"Unexpected close tag");else break}if(n<0){N(s,"Unmatched closing tag: "+s.tagName),s.textNode+="</"+s.tagName+">",s.state=l.TEXT;return}s.tagName=d;for(var F=s.tags.length;F-- >n;){var S=s.tag=s.tags.pop();s.tagName=s.tag.name,O(s,"onclosetag",s.tagName);var M={};for(var K in S.ns)M[K]=S.ns[K];var ae=s.tags[s.tags.length-1]||s;s.opt.xmlns&&S.ns!==ae.ns&&Object.keys(S.ns).forEach(function(D){var J=S.ns[D];O(s,"onclosenamespace",{prefix:D,uri:J})})}n===0&&(s.closedRoot=!0),s.tagName=s.attribValue=s.attribName="",s.attribList.length=0,s.state=l.TEXT}function pn(s){var n=s.entity,d=n.toLowerCase(),o,b="";return s.ENTITIES[n]?s.ENTITIES[n]:s.ENTITIES[d]?s.ENTITIES[d]:(n=d,n.charAt(0)==="#"&&(n.charAt(1)==="x"?(n=n.slice(2),o=parseInt(n,16),b=o.toString(16)):(n=n.slice(1),o=parseInt(n,10),b=o.toString(10))),n=n.replace(/^0+/,""),isNaN(o)||b.toLowerCase()!==n?(N(s,"Invalid character entity"),"&"+s.entity+";"):String.fromCodePoint(o))}function xt(s,n){n==="<"?(s.state=l.OPEN_WAKA,s.startTagPosition=s.position):U(n)||(N(s,"Non-whitespace before first tag."),s.textNode=n,s.state=l.TEXT)}function Ft(s,n){var d="";return n<s.length&&(d=s.charAt(n)),d}function gn(s){var n=this;if(this.error)throw this.error;if(n.closed)return ge(n,"Cannot write after close. Assign an onready handler.");if(s===null)return Ot(n);typeof s=="object"&&(s=s.toString());for(var d=0,o="";o=Ft(s,d++),n.c=o,!!o;)switch(n.trackPosition&&(n.position++,o===`
`?(n.line++,n.column=0):n.column++),n.state){case l.BEGIN:if(n.state=l.BEGIN_WHITESPACE,o==="\uFEFF")continue;xt(n,o);continue;case l.BEGIN_WHITESPACE:xt(n,o);continue;case l.TEXT:if(n.sawRoot&&!n.closedRoot){for(var b=d-1;o&&o!=="<"&&o!=="&";)o=Ft(s,d++),o&&n.trackPosition&&(n.position++,o===`
`?(n.line++,n.column=0):n.column++);n.textNode+=s.substring(b,d-1)}o==="<"&&!(n.sawRoot&&n.closedRoot&&!n.strict)?(n.state=l.OPEN_WAKA,n.startTagPosition=n.position):(!U(o)&&(!n.sawRoot||n.closedRoot)&&N(n,"Text data outside of root node."),o==="&"?n.state=l.TEXT_ENTITY:n.textNode+=o);continue;case l.SCRIPT:o==="<"?n.state=l.SCRIPT_ENDING:n.script+=o;continue;case l.SCRIPT_ENDING:o==="/"?n.state=l.CLOSE_TAG:(n.script+="<"+o,n.state=l.SCRIPT);continue;case l.OPEN_WAKA:if(o==="!")n.state=l.SGML_DECL,n.sgmlDecl="";else if(!U(o))if(Q(he,o))n.state=l.OPEN_TAG,n.tagName=o;else if(o==="/")n.state=l.CLOSE_TAG,n.tagName="";else if(o==="?")n.state=l.PROC_INST,n.procInstName=n.procInstBody="";else{if(N(n,"Unencoded <"),n.startTagPosition+1<n.position){var F=n.position-n.startTagPosition;o=new Array(F).join(" ")+o}n.textNode+="<"+o,n.state=l.TEXT}continue;case l.SGML_DECL:if(n.sgmlDecl+o==="--"){n.state=l.COMMENT,n.comment="",n.sgmlDecl="";continue}n.doctype&&n.doctype!==!0&&n.sgmlDecl?(n.state=l.DOCTYPE_DTD,n.doctype+="<!"+n.sgmlDecl+o,n.sgmlDecl=""):(n.sgmlDecl+o).toUpperCase()===g?(O(n,"onopencdata"),n.state=l.CDATA,n.sgmlDecl="",n.cdata=""):(n.sgmlDecl+o).toUpperCase()===y?(n.state=l.DOCTYPE,(n.doctype||n.sawRoot)&&N(n,"Inappropriately located doctype declaration"),n.doctype="",n.sgmlDecl=""):o===">"?(O(n,"onsgmldeclaration",n.sgmlDecl),n.sgmlDecl="",n.state=l.TEXT):(be(o)&&(n.state=l.SGML_DECL_QUOTED),n.sgmlDecl+=o);continue;case l.SGML_DECL_QUOTED:o===n.q&&(n.state=l.SGML_DECL,n.q=""),n.sgmlDecl+=o;continue;case l.DOCTYPE:o===">"?(n.state=l.TEXT,O(n,"ondoctype",n.doctype),n.doctype=!0):(n.doctype+=o,o==="["?n.state=l.DOCTYPE_DTD:be(o)&&(n.state=l.DOCTYPE_QUOTED,n.q=o));continue;case l.DOCTYPE_QUOTED:n.doctype+=o,o===n.q&&(n.q="",n.state=l.DOCTYPE);continue;case l.DOCTYPE_DTD:o==="]"?(n.doctype+=o,n.state=l.DOCTYPE):o==="<"?(n.state=l.OPEN_WAKA,n.startTagPosition=n.position):be(o)?(n.doctype+=o,n.state=l.DOCTYPE_DTD_QUOTED,n.q=o):n.doctype+=o;continue;case l.DOCTYPE_DTD_QUOTED:n.doctype+=o,o===n.q&&(n.state=l.DOCTYPE_DTD,n.q="");continue;case l.COMMENT:o==="-"?n.state=l.COMMENT_ENDING:n.comment+=o;continue;case l.COMMENT_ENDING:o==="-"?(n.state=l.COMMENT_ENDED,n.comment=Nt(n.opt,n.comment),n.comment&&O(n,"oncomment",n.comment),n.comment=""):(n.comment+="-"+o,n.state=l.COMMENT);continue;case l.COMMENT_ENDED:o!==">"?(N(n,"Malformed comment"),n.comment+="--"+o,n.state=l.COMMENT):n.doctype&&n.doctype!==!0?n.state=l.DOCTYPE_DTD:n.state=l.TEXT;continue;case l.CDATA:o==="]"?n.state=l.CDATA_ENDING:n.cdata+=o;continue;case l.CDATA_ENDING:o==="]"?n.state=l.CDATA_ENDING_2:(n.cdata+="]"+o,n.state=l.CDATA);continue;case l.CDATA_ENDING_2:o===">"?(n.cdata&&O(n,"oncdata",n.cdata),O(n,"onclosecdata"),n.cdata="",n.state=l.TEXT):o==="]"?n.cdata+="]":(n.cdata+="]]"+o,n.state=l.CDATA);continue;case l.PROC_INST:o==="?"?n.state=l.PROC_INST_ENDING:U(o)?n.state=l.PROC_INST_BODY:n.procInstName+=o;continue;case l.PROC_INST_BODY:if(!n.procInstBody&&U(o))continue;o==="?"?n.state=l.PROC_INST_ENDING:n.procInstBody+=o;continue;case l.PROC_INST_ENDING:o===">"?(O(n,"onprocessinginstruction",{name:n.procInstName,body:n.procInstBody}),n.procInstName=n.procInstBody="",n.state=l.TEXT):(n.procInstBody+="?"+o,n.state=l.PROC_INST_BODY);continue;case l.OPEN_TAG:Q(Ve,o)?n.tagName+=o:(mn(n),o===">"?ie(n):o==="/"?n.state=l.OPEN_TAG_SLASH:(U(o)||N(n,"Invalid character in tag name"),n.state=l.ATTRIB));continue;case l.OPEN_TAG_SLASH:o===">"?(ie(n,!0),Ye(n)):(N(n,"Forward-slash in opening tag not followed by >"),n.state=l.ATTRIB);continue;case l.ATTRIB:if(U(o))continue;o===">"?ie(n):o==="/"?n.state=l.OPEN_TAG_SLASH:Q(he,o)?(n.attribName=o,n.attribValue="",n.state=l.ATTRIB_NAME):N(n,"Invalid attribute name");continue;case l.ATTRIB_NAME:o==="="?n.state=l.ATTRIB_VALUE:o===">"?(N(n,"Attribute without value"),n.attribValue=n.attribName,$e(n),ie(n)):U(o)?n.state=l.ATTRIB_NAME_SAW_WHITE:Q(Ve,o)?n.attribName+=o:N(n,"Invalid attribute name");continue;case l.ATTRIB_NAME_SAW_WHITE:if(o==="=")n.state=l.ATTRIB_VALUE;else{if(U(o))continue;N(n,"Attribute without value"),n.tag.attributes[n.attribName]="",n.attribValue="",O(n,"onattribute",{name:n.attribName,value:""}),n.attribName="",o===">"?ie(n):Q(he,o)?(n.attribName=o,n.state=l.ATTRIB_NAME):(N(n,"Invalid attribute name"),n.state=l.ATTRIB)}continue;case l.ATTRIB_VALUE:if(U(o))continue;be(o)?(n.q=o,n.state=l.ATTRIB_VALUE_QUOTED):(n.opt.unquotedAttributeValues||ge(n,"Unquoted attribute value"),n.state=l.ATTRIB_VALUE_UNQUOTED,n.attribValue=o);continue;case l.ATTRIB_VALUE_QUOTED:if(o!==n.q){o==="&"?n.state=l.ATTRIB_VALUE_ENTITY_Q:n.attribValue+=o;continue}$e(n),n.q="",n.state=l.ATTRIB_VALUE_CLOSED;continue;case l.ATTRIB_VALUE_CLOSED:U(o)?n.state=l.ATTRIB:o===">"?ie(n):o==="/"?n.state=l.OPEN_TAG_SLASH:Q(he,o)?(N(n,"No whitespace between attributes"),n.attribName=o,n.attribValue="",n.state=l.ATTRIB_NAME):N(n,"Invalid attribute name");continue;case l.ATTRIB_VALUE_UNQUOTED:if(!dn(o)){o==="&"?n.state=l.ATTRIB_VALUE_ENTITY_U:n.attribValue+=o;continue}$e(n),o===">"?ie(n):n.state=l.ATTRIB;continue;case l.CLOSE_TAG:if(n.tagName)o===">"?Ye(n):Q(Ve,o)?n.tagName+=o:n.script?(n.script+="</"+n.tagName,n.tagName="",n.state=l.SCRIPT):(U(o)||N(n,"Invalid tagname in closing tag"),n.state=l.CLOSE_TAG_SAW_WHITE);else{if(U(o))continue;hn(he,o)?n.script?(n.script+="</"+o,n.state=l.SCRIPT):N(n,"Invalid tagname in closing tag."):n.tagName=o}continue;case l.CLOSE_TAG_SAW_WHITE:if(U(o))continue;o===">"?Ye(n):N(n,"Invalid characters in closing tag");continue;case l.TEXT_ENTITY:case l.ATTRIB_VALUE_ENTITY_Q:case l.ATTRIB_VALUE_ENTITY_U:var S,M;switch(n.state){case l.TEXT_ENTITY:S=l.TEXT,M="textNode";break;case l.ATTRIB_VALUE_ENTITY_Q:S=l.ATTRIB_VALUE_QUOTED,M="attribValue";break;case l.ATTRIB_VALUE_ENTITY_U:S=l.ATTRIB_VALUE_UNQUOTED,M="attribValue";break}if(o===";"){var K=pn(n);n.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(K)?(n.entity="",n.state=S,n.write(K)):(n[M]+=K,n.entity="",n.state=S)}else Q(n.entity.length?fn:ln,o)?n.entity+=o:(N(n,"Invalid character in entity name"),n[M]+="&"+n.entity+o,n.entity="",n.state=S);continue;default:throw new Error(n,"Unknown state: "+n.state)}return n.position>=n.bufferCheckPosition&&i(n),n}String.fromCodePoint||function(){var s=String.fromCharCode,n=Math.floor,d=function(){var o=16384,b=[],F,S,M=-1,K=arguments.length;if(!K)return"";for(var ae="";++M<K;){var D=Number(arguments[M]);if(!isFinite(D)||D<0||D>1114111||n(D)!==D)throw RangeError("Invalid code point: "+D);D<=65535?b.push(D):(D-=65536,F=(D>>10)+55296,S=D%1024+56320,b.push(F,S)),(M+1===K||b.length>o)&&(ae+=s.apply(null,b),b.length=0)}return ae};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:d,configurable:!0,writable:!0}):String.fromCodePoint=d}()})(typeof qe>"u"?qe.sax={}:qe)});var Be=x((Ta,Pr)=>{Pr.exports={isArray:function(e){return Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}}});var Me=x((_a,Ur)=>{var Ji=Be().isArray;Ur.exports={copyOptions:function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r},ensureFlagExists:function(e,t){(!(e in t)||typeof t[e]!="boolean")&&(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!Ji(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,t){(!(e+"Key"in t)||typeof t[e+"Key"]!="string")&&(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}}});var Tt=x((va,Vr)=>{var zi=Rr(),Zi={on:function(){},parse:function(){}},v=Me(),de=Be().isArray,f,yt=!0,T;function es(e){return f=v.copyOptions(e),v.ensureFlagExists("ignoreDeclaration",f),v.ensureFlagExists("ignoreInstruction",f),v.ensureFlagExists("ignoreAttributes",f),v.ensureFlagExists("ignoreText",f),v.ensureFlagExists("ignoreComment",f),v.ensureFlagExists("ignoreCdata",f),v.ensureFlagExists("ignoreDoctype",f),v.ensureFlagExists("compact",f),v.ensureFlagExists("alwaysChildren",f),v.ensureFlagExists("addParent",f),v.ensureFlagExists("trim",f),v.ensureFlagExists("nativeType",f),v.ensureFlagExists("nativeTypeAttributes",f),v.ensureFlagExists("sanitize",f),v.ensureFlagExists("instructionHasAttributes",f),v.ensureFlagExists("captureSpacesBetweenElements",f),v.ensureAlwaysArrayExists(f),v.ensureKeyExists("declaration",f),v.ensureKeyExists("instruction",f),v.ensureKeyExists("attributes",f),v.ensureKeyExists("text",f),v.ensureKeyExists("comment",f),v.ensureKeyExists("cdata",f),v.ensureKeyExists("doctype",f),v.ensureKeyExists("type",f),v.ensureKeyExists("name",f),v.ensureKeyExists("elements",f),v.ensureKeyExists("parent",f),v.checkFnExists("doctype",f),v.checkFnExists("instruction",f),v.checkFnExists("cdata",f),v.checkFnExists("comment",f),v.checkFnExists("text",f),v.checkFnExists("instructionName",f),v.checkFnExists("elementName",f),v.checkFnExists("attributeName",f),v.checkFnExists("attributeValue",f),v.checkFnExists("attributes",f),f}function jr(e){var t=Number(e);if(!isNaN(t))return t;var r=e.toLowerCase();return r==="true"?!0:r==="false"?!1:e}function ve(e,t){var r;if(f.compact){if(!T[f[e+"Key"]]&&(de(f.alwaysArray)?f.alwaysArray.indexOf(f[e+"Key"])!==-1:f.alwaysArray)&&(T[f[e+"Key"]]=[]),T[f[e+"Key"]]&&!de(T[f[e+"Key"]])&&(T[f[e+"Key"]]=[T[f[e+"Key"]]]),e+"Fn"in f&&typeof t=="string"&&(t=f[e+"Fn"](t,T)),e==="instruction"&&("instructionFn"in f||"instructionNameFn"in f)){for(r in t)if(t.hasOwnProperty(r))if("instructionFn"in f)t[r]=f.instructionFn(t[r],r,T);else{var i=t[r];delete t[r],t[f.instructionNameFn(r,i,T)]=i}}de(T[f[e+"Key"]])?T[f[e+"Key"]].push(t):T[f[e+"Key"]]=t}else{T[f.elementsKey]||(T[f.elementsKey]=[]);var a={};if(a[f.typeKey]=e,e==="instruction"){for(r in t)if(t.hasOwnProperty(r))break;a[f.nameKey]="instructionNameFn"in f?f.instructionNameFn(r,t,T):r,f.instructionHasAttributes?(a[f.attributesKey]=t[r][f.attributesKey],"instructionFn"in f&&(a[f.attributesKey]=f.instructionFn(a[f.attributesKey],r,T))):("instructionFn"in f&&(t[r]=f.instructionFn(t[r],r,T)),a[f.instructionKey]=t[r])}else e+"Fn"in f&&(t=f[e+"Fn"](t,T)),a[f[e+"Key"]]=t;f.addParent&&(a[f.parentKey]=T),T[f.elementsKey].push(a)}}function kr(e){if("attributesFn"in f&&e&&(e=f.attributesFn(e,T)),(f.trim||"attributeValueFn"in f||"attributeNameFn"in f||f.nativeTypeAttributes)&&e){var t;for(t in e)if(e.hasOwnProperty(t)&&(f.trim&&(e[t]=e[t].trim()),f.nativeTypeAttributes&&(e[t]=jr(e[t])),"attributeValueFn"in f&&(e[t]=f.attributeValueFn(e[t],t,T)),"attributeNameFn"in f)){var r=e[t];delete e[t],e[f.attributeNameFn(t,e[t],T)]=r}}return e}function ts(e){var t={};if(e.body&&(e.name.toLowerCase()==="xml"||f.instructionHasAttributes)){for(var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,i;(i=r.exec(e.body))!==null;)t[i[1]]=i[2]||i[3]||i[4];t=kr(t)}if(e.name.toLowerCase()==="xml"){if(f.ignoreDeclaration)return;T[f.declarationKey]={},Object.keys(t).length&&(T[f.declarationKey][f.attributesKey]=t),f.addParent&&(T[f.declarationKey][f.parentKey]=T)}else{if(f.ignoreInstruction)return;f.trim&&(e.body=e.body.trim());var a={};f.instructionHasAttributes&&Object.keys(t).length?(a[e.name]={},a[e.name][f.attributesKey]=t):a[e.name]=e.body,ve("instruction",a)}}function qr(e,t){var r;if(typeof e=="object"&&(t=e.attributes,e=e.name),t=kr(t),"elementNameFn"in f&&(e=f.elementNameFn(e,T)),f.compact){if(r={},!f.ignoreAttributes&&t&&Object.keys(t).length){r[f.attributesKey]={};var i;for(i in t)t.hasOwnProperty(i)&&(r[f.attributesKey][i]=t[i])}!(e in T)&&(de(f.alwaysArray)?f.alwaysArray.indexOf(e)!==-1:f.alwaysArray)&&(T[e]=[]),T[e]&&!de(T[e])&&(T[e]=[T[e]]),de(T[e])?T[e].push(r):T[e]=r}else T[f.elementsKey]||(T[f.elementsKey]=[]),r={},r[f.typeKey]="element",r[f.nameKey]=e,!f.ignoreAttributes&&t&&Object.keys(t).length&&(r[f.attributesKey]=t),f.alwaysChildren&&(r[f.elementsKey]=[]),T[f.elementsKey].push(r);r[f.parentKey]=T,T=r}function Br(e){f.ignoreText||!e.trim()&&!f.captureSpacesBetweenElements||(f.trim&&(e=e.trim()),f.nativeType&&(e=jr(e)),f.sanitize&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),ve("text",e))}function Mr(e){f.ignoreComment||(f.trim&&(e=e.trim()),ve("comment",e))}function Kr(e){var t=T[f.parentKey];f.addParent||delete T[f.parentKey],T=t}function rs(e){f.ignoreCdata||(f.trim&&(e=e.trim()),ve("cdata",e))}function ns(e){f.ignoreDoctype||(e=e.replace(/^ /,""),f.trim&&(e=e.trim()),ve("doctype",e))}function Lr(e){e.note=e}Vr.exports=function(e,t){var r=yt?zi.parser(!0,{}):r=new Zi.Parser("UTF-8"),i={};if(T=i,f=es(t),yt?(r.opt={strictEntities:!0},r.onopentag=qr,r.ontext=Br,r.oncomment=Mr,r.onclosetag=Kr,r.onerror=Lr,r.oncdata=rs,r.ondoctype=ns,r.onprocessinginstruction=ts):(r.on("startElement",qr),r.on("text",Br),r.on("comment",Mr),r.on("endElement",Kr),r.on("error",Lr)),yt)r.write(e).close();else if(!r.parse(e))throw new Error("XML parsing error: "+r.getError());if(i[f.elementsKey]){var a=i[f.elementsKey];delete i[f.elementsKey],i[f.elementsKey]=a,delete i.text}return i}});var Yr=x((wa,$r)=>{var Gr=Me(),is=Tt();function ss(e){var t=Gr.copyOptions(e);return Gr.ensureSpacesExists(t),t}$r.exports=function(e,t){var r,i,a,u;return r=ss(t),i=is(e,r),u="compact"in r&&r.compact?"_parent":"parent","addParent"in r&&r.addParent?a=JSON.stringify(i,function(c,h){return c===u?"_":h},r.spaces):a=JSON.stringify(i,null,r.spaces),a.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}});var vt=x((ba,tn)=>{var w=Me(),as=Be().isArray,R,P;function os(e){var t=w.copyOptions(e);return w.ensureFlagExists("ignoreDeclaration",t),w.ensureFlagExists("ignoreInstruction",t),w.ensureFlagExists("ignoreAttributes",t),w.ensureFlagExists("ignoreText",t),w.ensureFlagExists("ignoreComment",t),w.ensureFlagExists("ignoreCdata",t),w.ensureFlagExists("ignoreDoctype",t),w.ensureFlagExists("compact",t),w.ensureFlagExists("indentText",t),w.ensureFlagExists("indentCdata",t),w.ensureFlagExists("indentAttributes",t),w.ensureFlagExists("indentInstruction",t),w.ensureFlagExists("fullTagEmptyElement",t),w.ensureFlagExists("noQuotesForNativeAttributes",t),w.ensureSpacesExists(t),typeof t.spaces=="number"&&(t.spaces=Array(t.spaces+1).join(" ")),w.ensureKeyExists("declaration",t),w.ensureKeyExists("instruction",t),w.ensureKeyExists("attributes",t),w.ensureKeyExists("text",t),w.ensureKeyExists("comment",t),w.ensureKeyExists("cdata",t),w.ensureKeyExists("doctype",t),w.ensureKeyExists("type",t),w.ensureKeyExists("name",t),w.ensureKeyExists("elements",t),w.checkFnExists("doctype",t),w.checkFnExists("instruction",t),w.checkFnExists("cdata",t),w.checkFnExists("comment",t),w.checkFnExists("text",t),w.checkFnExists("instructionName",t),w.checkFnExists("elementName",t),w.checkFnExists("attributeName",t),w.checkFnExists("attributeValue",t),w.checkFnExists("attributes",t),w.checkFnExists("fullTagEmptyElement",t),t}function W(e,t,r){return(!r&&e.spaces?`
`:"")+Array(t+1).join(e.spaces)}function Ke(e,t,r){if(t.ignoreAttributes)return"";"attributesFn"in t&&(e=t.attributesFn(e,P,R));var i,a,u,c,h=[];for(i in e)e.hasOwnProperty(i)&&e[i]!==null&&e[i]!==void 0&&(c=t.noQuotesForNativeAttributes&&typeof e[i]!="string"?"":'"',a=""+e[i],a=a.replace(/"/g,"&quot;"),u="attributeNameFn"in t?t.attributeNameFn(i,a,P,R):i,h.push(t.spaces&&t.indentAttributes?W(t,r+1,!1):" "),h.push(u+"="+c+("attributeValueFn"in t?t.attributeValueFn(a,i,P,R):a)+c));return e&&Object.keys(e).length&&t.spaces&&t.indentAttributes&&h.push(W(t,r,!1)),h.join("")}function Xr(e,t,r){return R=e,P="xml",t.ignoreDeclaration?"":"<?xml"+Ke(e[t.attributesKey],t,r)+"?>"}function Hr(e,t,r){if(t.ignoreInstruction)return"";var i;for(i in e)if(e.hasOwnProperty(i))break;var a="instructionNameFn"in t?t.instructionNameFn(i,e[i],P,R):i;if(typeof e[i]=="object")return R=e,P=a,"<?"+a+Ke(e[i][t.attributesKey],t,r)+"?>";var u=e[i]?e[i]:"";return"instructionFn"in t&&(u=t.instructionFn(u,i,P,R)),"<?"+a+(u?" "+u:"")+"?>"}function Wr(e,t){return t.ignoreComment?"":"<!--"+("commentFn"in t?t.commentFn(e,P,R):e)+"-->"}function Qr(e,t){return t.ignoreCdata?"":"<![CDATA["+("cdataFn"in t?t.cdataFn(e,P,R):e.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function Jr(e,t){return t.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in t?t.doctypeFn(e,P,R):e)+">"}function _t(e,t){return t.ignoreText?"":(e=""+e,e=e.replace(/&amp;/g,"&"),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in t?t.textFn(e,P,R):e)}function us(e,t){var r;if(e.elements&&e.elements.length)for(r=0;r<e.elements.length;++r)switch(e.elements[r][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function cs(e,t,r){R=e,P=e.name;var i=[],a="elementNameFn"in t?t.elementNameFn(e.name,e):e.name;i.push("<"+a),e[t.attributesKey]&&i.push(Ke(e[t.attributesKey],t,r));var u=e[t.elementsKey]&&e[t.elementsKey].length||e[t.attributesKey]&&e[t.attributesKey]["xml:space"]==="preserve";return u||("fullTagEmptyElementFn"in t?u=t.fullTagEmptyElementFn(e.name,e):u=t.fullTagEmptyElement),u?(i.push(">"),e[t.elementsKey]&&e[t.elementsKey].length&&(i.push(zr(e[t.elementsKey],t,r+1)),R=e,P=e.name),i.push(t.spaces&&us(e,t)?`
`+Array(r+1).join(t.spaces):""),i.push("</"+a+">")):i.push("/>"),i.join("")}function zr(e,t,r,i){return e.reduce(function(a,u){var c=W(t,r,i&&!a);switch(u.type){case"element":return a+c+cs(u,t,r);case"comment":return a+c+Wr(u[t.commentKey],t);case"doctype":return a+c+Jr(u[t.doctypeKey],t);case"cdata":return a+(t.indentCdata?c:"")+Qr(u[t.cdataKey],t);case"text":return a+(t.indentText?c:"")+_t(u[t.textKey],t);case"instruction":var h={};return h[u[t.nameKey]]=u[t.attributesKey]?u:u[t.instructionKey],a+(t.indentInstruction?c:"")+Hr(h,t,r)}},"")}function Zr(e,t,r){var i;for(i in e)if(e.hasOwnProperty(i))switch(i){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||r)return!0;break;case t.cdataKey:if(t.indentCdata||r)return!0;break;case t.instructionKey:if(t.indentInstruction||r)return!0;break;case t.doctypeKey:case t.commentKey:return!0;default:return!0}return!1}function ls(e,t,r,i,a){R=e,P=t;var u="elementNameFn"in r?r.elementNameFn(t,e):t;if(typeof e>"u"||e===null||e==="")return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(t,e)||r.fullTagEmptyElement?"<"+u+"></"+u+">":"<"+u+"/>";var c=[];if(t){if(c.push("<"+u),typeof e!="object")return c.push(">"+_t(e,r)+"</"+u+">"),c.join("");e[r.attributesKey]&&c.push(Ke(e[r.attributesKey],r,i));var h=Zr(e,r,!0)||e[r.attributesKey]&&e[r.attributesKey]["xml:space"]==="preserve";if(h||("fullTagEmptyElementFn"in r?h=r.fullTagEmptyElementFn(t,e):h=r.fullTagEmptyElement),h)c.push(">");else return c.push("/>"),c.join("")}return c.push(en(e,r,i+1,!1)),R=e,P=t,t&&c.push((a?W(r,i,!1):"")+"</"+u+">"),c.join("")}function en(e,t,r,i){var a,u,c,h=[];for(u in e)if(e.hasOwnProperty(u))for(c=as(e[u])?e[u]:[e[u]],a=0;a<c.length;++a){switch(u){case t.declarationKey:h.push(Xr(c[a],t,r));break;case t.instructionKey:h.push((t.indentInstruction?W(t,r,i):"")+Hr(c[a],t,r));break;case t.attributesKey:case t.parentKey:break;case t.textKey:h.push((t.indentText?W(t,r,i):"")+_t(c[a],t));break;case t.cdataKey:h.push((t.indentCdata?W(t,r,i):"")+Qr(c[a],t));break;case t.doctypeKey:h.push(W(t,r,i)+Jr(c[a],t));break;case t.commentKey:h.push(W(t,r,i)+Wr(c[a],t));break;default:h.push(W(t,r,i)+ls(c[a],u,t,r,Zr(c[a],t)))}i=i&&!h.length}return h.join("")}tn.exports=function(e,t){t=os(t);var r=[];return R=e,P="_root_",t.compact?r.push(en(e,t,0,!0)):(e[t.declarationKey]&&r.push(Xr(e[t.declarationKey],t,0)),e[t.elementsKey]&&e[t.elementsKey].length&&r.push(zr(e[t.elementsKey],t,0,!r.length))),r.join("")}});var nn=x((Aa,rn)=>{var fs=vt();rn.exports=function(e,t){e instanceof Buffer&&(e=e.toString());var r=null;if(typeof e=="string")try{r=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else r=e;return fs(r,t)}});var an=x((Na,sn)=>{var ds=Tt(),hs=Yr(),ms=vt(),ps=nn();sn.exports={xml2js:ds,xml2json:hs,js2xml:ms,json2xml:ps}});var bt=Ee(ft());var ke=require("fs"),cn=require("util");var on=Ee(an());var we=class{constructor(t,r){this.total=t,this.folders=r}get(t,r){var i;return(i=this.folders.get(t))==null?void 0:i.get(r)}};var Le=class{constructor(t){this.name=t,this.files=[]}push(...t){return this.files.push(...t),this}get(t){let r=this.files.findIndex(i=>i.name===t);return r===-1?null:this.files[r]}};var $=class{total;covered;percentual;constructor(t,r){this.total=Number(t),this.covered=Number(r),this.percentual=this.total==0?1:parseFloat((this.covered/this.total).toFixed(4))}};var wt=e=>e?Array.isArray(e)?e:[e]:[],gs=e=>{let t=e.replace(/=\s*"([^"]*?)"/g,(r,i)=>`="${i.replace(/"/g,"&quot;")}"`);return t=t.replace(/\s+="([^"]*?)"/g,' fixed="$1"'),t},un=e=>{try{let t=gs(e),{coverage:{project:{metrics:{_attributes:r},file:i,package:a}}}=JSON.parse((0,on.xml2json)(t,{compact:!0})),u=wt(a).reduce((c,h)=>[...c,...wt(h.file)],wt(i));return new we({lines:new $(r.statements,r.coveredstatements),methods:new $(r.methods,r.coveredmethods),branches:new $(r.conditionals,r.coveredconditionals)},u.map(c=>(c._attributes.name=c._attributes.path||c._attributes.name,c)).sort((c,h)=>c._attributes.name<h._attributes.name?-1:1).map(c=>({...c,folder:c._attributes.name.split("/").slice(0,-1).join("/")})).reduce((c,{folder:h,_attributes:{name:p},metrics:{_attributes:m}})=>c.set(h,(c.get(h)||new Le(h)).push({name:p.split("/").pop(),metrics:{lines:new $(m.statements,m.coveredstatements),methods:new $(m.methods,m.coveredmethods),branches:new $(m.conditionals,m.coveredconditionals)}})),new Map))}catch(t){return console.error("Error parsing XML file:",t.message),new we({lines:new $(0,0),methods:new $(0,0),branches:new $(0,0)},new Map)}};var je=class{constructor(t,r){if(!(0,ke.existsSync)(t))throw`file "${t}" not found`;this.file=t,this.files=r.split(",")}async run(){let t=un((await(0,cn.promisify)(ke.readFile)(this.file)).toString());console.log(t),this.checkThreshold(t)}checkThreshold(t){console.log(t.total.lines.percentual*100),console.log(t.total.methods.percentual*100),console.log(this.files)}};var Es=(0,bt.getInput)("file"),ys=(0,bt.getInput)("files"),Ts=new je(Es,ys);Ts.run();
/*! Bundled license information:

sax/lib/sax.js:
  (*! http://mths.be/fromcodepoint v0.1.0 by @mathias *)
*/
//# sourceMappingURL=index.js.map
